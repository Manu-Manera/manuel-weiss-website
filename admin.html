<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Manuel Weiss Professional Services</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="admin-styles.css?v=3.0">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-cog"></i> Admin Panel</h2>
                <p>Manuel Weiss Professional Services</p>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="nav-item" data-section="content">
                        <i class="fas fa-edit"></i>
                        <span>Content Management</span>
                    </li>
                    <li class="nav-item" data-section="images">
                        <i class="fas fa-images"></i>
                        <span>Bildverwaltung</span>
                    </li>
                    <li class="nav-item" data-section="applications">
                        <i class="fas fa-file-alt"></i>
                        <span>Bewerbungsverwaltung</span>
                    </li>
                    <li class="nav-item" data-section="settings">
                        <i class="fas fa-cogs"></i>
                        <span>Einstellungen</span>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="admin-main">
            <!-- Dashboard Section -->
            <div id="dashboard" class="admin-section active">
                <div class="section-header">
                    <h1>Dashboard</h1>
                    <p>Übersicht über Ihre Website und Bewerbungen</p>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="card-content">
                            <h3>Website Status</h3>
                            <p class="card-value">Online</p>
                            <p class="card-description">Website ist verfügbar</p>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="card-content">
                            <h3>Bewerbungen</h3>
                            <p class="card-value" id="applications-count">0</p>
                            <p class="card-description">Aktive Bewerbungsmappen</p>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-images"></i>
                        </div>
                        <div class="card-content">
                            <h3>Bilder</h3>
                            <p class="card-value" id="images-count">0</p>
                            <p class="card-description">Gespeicherte Bilder</p>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-link"></i>
                        </div>
                        <div class="card-content">
                            <h3>Verlinkungen</h3>
                            <p class="card-value" id="links-count">0</p>
                            <p class="card-description">Aktive Bewerbungslinks</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-actions">
                    <button class="btn btn-primary" onclick="openSection('applications')">
                        <i class="fas fa-plus"></i>
                        Neue Bewerbung erstellen
                    </button>
                    <button class="btn btn-outline" onclick="openSection('images')">
                        <i class="fas fa-upload"></i>
                        Bilder hochladen
                    </button>
                </div>
            </div>

            <!-- Content Management Section -->
            <div id="content" class="admin-section">
                <div class="section-header">
                    <h1>Content Management</h1>
                    <p>Verwalten Sie den Inhalt Ihrer Website</p>
                </div>

                <div class="content-grid">
                    <div class="content-card">
                        <h3>Hero Section</h3>
                        <form id="hero-form">
                            <div class="form-group">
                                <label for="hero-title">Titel</label>
                                <input type="text" id="hero-title" name="title" placeholder="Manuel Weiss">
                            </div>
                            <div class="form-group">
                                <label for="hero-subtitle">Untertitel</label>
                                <input type="text" id="hero-subtitle" name="subtitle" placeholder="Professional Services">
                            </div>
                            <div class="form-group">
                                <label for="hero-description">Beschreibung</label>
                                <textarea id="hero-description" name="description" rows="4" placeholder="Beschreibung eingeben..."></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Speichern</button>
                        </form>
                    </div>

                    <div class="content-card">
                        <h3>Kontaktinformationen</h3>
                        <form id="contact-form">
                            <div class="form-group">
                                <label for="contact-email">E-Mail</label>
                                <input type="email" id="contact-email" name="email" placeholder="weiss-manuel@gmx.de">
                            </div>
                            <div class="form-group">
                                <label for="contact-phone">Telefon</label>
                                <input type="tel" id="contact-phone" name="phone" placeholder="+41 XX XXX XX XX">
                            </div>
                            <div class="form-group">
                                <label for="contact-location">Standort</label>
                                <input type="text" id="contact-location" name="location" placeholder="Schweiz">
                            </div>
                            <button type="submit" class="btn btn-primary">Speichern</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Image Management Section -->
            <div id="images" class="admin-section">
                <div class="section-header">
                    <h1>Bildverwaltung</h1>
                    <p>Verwalten Sie Bilder für Ihre Aktivitäten</p>
                </div>

                <div class="image-management">
                    <div class="image-upload-section">
                        <h3>Bilder hochladen</h3>
                        <div class="upload-area" id="upload-area">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Bilder hier hineinziehen oder klicken zum Auswählen</p>
                            <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                        </div>
                        <div class="upload-options">
                            <select id="activity-select">
                                <option value="">Aktivität auswählen</option>
                                <option value="wohnmobil">Wohnmobil</option>
                                <option value="fotobox">Fotobox</option>
                                <option value="sup">Stand-Up-Paddle</option>
                                <option value="ebike">E-Bike</option>
                            </select>
                            <button class="btn btn-primary" onclick="uploadImages()">
                                <i class="fas fa-upload"></i>
                                Hochladen
                            </button>
                        </div>
                    </div>

                    <div class="image-gallery-section">
                        <h3>Bildergalerie</h3>
                        <div class="gallery-filters">
                            <select id="gallery-filter">
                                <option value="all">Alle Aktivitäten</option>
                                <option value="wohnmobil">Wohnmobil</option>
                                <option value="fotobox">Fotobox</option>
                                <option value="sup">Stand-Up-Paddle</option>
                                <option value="ebike">E-Bike</option>
                            </select>
                            <button class="btn btn-outline" onclick="cleanupImages()">
                                <i class="fas fa-trash"></i>
                                Bereinigen
                            </button>
                        </div>
                        <div id="image-gallery" class="image-gallery"></div>
                    </div>
                </div>
            </div>

            <!-- Applications Management Section -->
            <div id="applications" class="admin-section">
                <div class="section-header">
                    <h1>Bewerbungsverwaltung</h1>
                    <p>Erstellen und verwalten Sie individuelle Bewerbungsmappen</p>
                </div>

                <div class="applications-management">
                    <!-- Create New Application -->
                    <div class="application-create">
                        <h3>Neue Bewerbung erstellen</h3>
                        <form id="new-application-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="company-name">Firmenname *</label>
                                    <input type="text" id="company-name" name="companyName" required placeholder="z.B. TechCorp AG">
                                </div>
                                <div class="form-group">
                                    <label for="position-title">Position *</label>
                                    <input type="text" id="position-title" name="positionTitle" required placeholder="z.B. Senior Consultant">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="application-type">Bewerbungstyp</label>
                                    <select id="application-type" name="applicationType">
                                        <option value="interactive">Interaktive Bewerbungsmappe</option>
                                        <option value="traditional">Traditionelle Bewerbung</option>
                                        <option value="custom">Individuelle Anpassung</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="application-theme">Design-Theme</label>
                                    <select id="application-theme" name="applicationTheme">
                                        <option value="modern">Modern</option>
                                        <option value="corporate">Corporate</option>
                                        <option value="creative">Kreativ</option>
                                        <option value="minimal">Minimalistisch</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="company-colors">Firmenfarben (Hex-Codes)</label>
                                <div class="color-inputs">
                                    <input type="color" id="primary-color" name="primaryColor" value="#2563eb">
                                    <input type="color" id="secondary-color" name="secondaryColor" value="#10b981">
                                    <input type="color" id="accent-color" name="accentColor" value="#8b5cf6">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="custom-message">Individuelle Nachricht</label>
                                <textarea id="custom-message" name="customMessage" rows="4" placeholder="Persönliche Nachricht an das Unternehmen..."></textarea>
                            </div>

                            <div class="form-group">
                                <label for="included-sections">Einzubeziehende Sektionen</label>
                                <div class="checkbox-group">
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="sections" value="experience" checked>
                                        <span>Berufserfahrung</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="sections" value="projects" checked>
                                        <span>Projekte</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="sections" value="skills" checked>
                                        <span>Skills</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="sections" value="education" checked>
                                        <span>Ausbildung</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" name="sections" value="certificates" checked>
                                        <span>Zertifikate</span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    Bewerbung erstellen
                                </button>
                                <button type="button" class="btn btn-outline" onclick="previewApplication()">
                                    <i class="fas fa-eye"></i>
                                    Vorschau
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Applications List -->
                    <div class="applications-list">
                        <h3>Erstellte Bewerbungen</h3>
                        <div id="applications-list" class="applications-grid">
                            <!-- Applications will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settings" class="admin-section">
                <div class="section-header">
                    <h1>Einstellungen</h1>
                    <p>Konfigurieren Sie Ihre Website-Einstellungen</p>
                </div>

                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Website-Einstellungen</h3>
                        <form id="website-settings-form">
                            <div class="form-group">
                                <label for="site-title">Website-Titel</label>
                                <input type="text" id="site-title" name="siteTitle" value="Manuel Weiss - Professional Services">
                            </div>
                            <div class="form-group">
                                <label for="site-description">Website-Beschreibung</label>
                                <textarea id="site-description" name="siteDescription" rows="3">Manuel Weiss Professional Services - Digitalisierung, Prozessmanagement, HR-Tech Beratung und Vermietung</textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Speichern</button>
                        </form>
                    </div>

                    <div class="settings-card">
                        <h3>Bewerbungs-Einstellungen</h3>
                        <form id="application-settings-form">
                            <div class="form-group">
                                <label for="default-theme">Standard-Theme</label>
                                <select id="default-theme" name="defaultTheme">
                                    <option value="modern">Modern</option>
                                    <option value="corporate">Corporate</option>
                                    <option value="creative">Kreativ</option>
                                    <option value="minimal">Minimalistisch</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="link-expiry">Link-Ablaufzeit (Tage)</label>
                                <input type="number" id="link-expiry" name="linkExpiry" value="30" min="1" max="365">
                            </div>
                            <div class="form-group">
                                <label class="checkbox-item">
                                    <input type="checkbox" id="track-analytics" name="trackAnalytics" checked>
                                    <span>Analytics für Bewerbungslinks aktivieren</span>
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary">Speichern</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="preview-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Bewerbungsvorschau</h3>
                <button class="modal-close" onclick="closeModal('preview-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <iframe id="preview-iframe" src="" width="100%" height="600px"></iframe>
            </div>
        </div>
    </div>

    <div id="link-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Bewerbungslink</h3>
                <button class="modal-close" onclick="closeModal('link-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="link-info">
                    <h4>Ihr individueller Bewerbungslink:</h4>
                    <div class="link-display">
                        <input type="text" id="application-link" readonly>
                        <button class="btn btn-primary" onclick="copyLink()">
                            <i class="fas fa-copy"></i>
                            Kopieren
                        </button>
                    </div>
                    <p class="link-note">
                        <i class="fas fa-info-circle"></i>
                        Dieser Link ist speziell für <span id="link-company"></span> erstellt und kann direkt an das Unternehmen gesendet werden.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/image-manager.js?v=3.0"></script>
    <script src="js/content-manager.js?v=3.0"></script>
    <script src="js/activity-gallery.js?v=3.0"></script>
    <script src="js/image-gallery.js?v=3.0"></script>
    <script src="js/netlify-storage.js?v=3.0"></script>
    <script src="js/data-persistence.js?v=3.0"></script>
    <script src="admin-script.js?v=3.0"></script>
</body>
</html>
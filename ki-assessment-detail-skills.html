<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kompetenz & Skills - KI-Readiness Assessment - Manuel Weiss</title>
    <meta name="description" content="Detaillierte Bewertung der Kompetenzen und Skills für KI-Readiness in HR. Data Science, AI-Verständnis und technische Fähigkeiten.">
    <meta name="keywords" content="Kompetenz, Skills, Data Science, AI-Verständnis, KI-Readiness">
    <meta name="author" content="Manuel Weiss">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/ki-assessment-detail.css">
    <style>
        .detail-header { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .criterion-icon { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .detail-slider::-webkit-slider-thumb { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .detail-slider::-moz-range-thumb { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .sub-criterion-slider::-webkit-slider-thumb { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .sub-criterion-slider::-moz-range-thumb { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .slider-value-display { color: #38f9d7; }
        .sub-criterion-value { color: #38f9d7; }
        .criterion-average-value { color: #38f9d7; }
        .aggregated-score { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .save-button { color: #38f9d7; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="manuel-weiss-photo.svg" alt="MW" class="nav-logo">
                <span class="nav-name">Manuel Weiss</span>
            </div>
            <div class="nav-menu" id="navMenu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="ki-strategieentwicklung.html" class="nav-link">KI-Strategieentwicklung</a>
                <a href="index.html#about" class="nav-link">Über mich</a>
                <a href="index.html#contact" class="nav-link">Kontakt</a>
            </div>
        </div>
    </nav>
    <div class="detail-assessment-container">
        <div class="detail-header">
            <a href="ki-strategie-workflow.html" class="back-button">
                <i class="fas fa-arrow-left"></i> Zurück zur Übersicht
            </a>
            <h1><i class="fas fa-graduation-cap"></i> Kompetenz & Skills</h1>
            <p>Bewerten Sie die Kompetenzen und Fähigkeiten Ihrer Organisation für KI-Projekte. Data Science, AI-Verständnis und technische Skills sind essentiell für erfolgreiche KI-Implementierungen.</p>
        </div>
        <div id="criteriaContainer"></div>
        <div class="aggregated-score">
            <h3>Gesamtbewertung</h3>
            <div class="score-display">
                <div class="score-circle-large" id="aggregatedScore">1.0</div>
                <div class="score-description" id="scoreDescription">Bewerten Sie die Kriterien, um Ihre Gesamtbewertung zu sehen</div>
            </div>
            <div style="display: flex; gap: 1rem; margin-top: 1.5rem; flex-wrap: wrap;">
                <button class="save-button" onclick="saveAndReturn()" style="flex: 1; min-width: 200px;">
                    <i class="fas fa-save"></i> Bewertung speichern und zurück
                </button>
                <button class="export-button excel" onclick="exportToExcel()" style="background: #217346; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; flex: 1; min-width: 150px;">
                    <i class="fas fa-file-excel"></i> Excel Export
                </button>
                <button class="export-button pdf" onclick="exportToPDF()" style="background: #dc3545; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; flex: 1; min-width: 150px;">
                    <i class="fas fa-file-pdf"></i> PDF Export
                </button>
            </div>
        </div>
    </div>
    <script>
        const skillsCriteria = [
            { id: 'dataScienceSkills', title: 'Data Science Kompetenzen', description: 'Wie gut sind Data Science Fähigkeiten in Ihrer Organisation vorhanden?', icon: 'fa-chart-bar', subCriteria: [
                { id: 'dataScientists', title: 'Data Scientists im Team', description: 'Gibt es Data Scientists?', examples: ['Dedizierte Data Scientists', 'Externe Experten', 'Data Science Team'] },
                { id: 'statisticalAnalysis', title: 'Statistische Analysefähigkeiten', description: 'Wie gut sind statistische Fähigkeiten?', examples: ['Statistische Methoden', 'Hypothesentests', 'Regressionsanalysen'] },
                { id: 'mlExpertise', title: 'Machine Learning Expertise', description: 'Gibt es ML-Expertise?', examples: ['ML-Modelle entwickeln', 'Model Training', 'Model Evaluation'] },
                { id: 'dataEngineering', title: 'Data Engineering Kompetenzen vorhanden', description: 'Gibt es Data Engineering Skills?', examples: ['ETL-Pipelines', 'Data Warehousing', 'Data Infrastructure'] }
            ]},
            { id: 'aiUnderstanding', title: 'KI-Verständnis', description: 'Wie gut versteht Ihre Organisation KI-Technologien und deren Anwendungen?', icon: 'fa-brain', subCriteria: [
                { id: 'basicUnderstanding', title: 'Grundlegendes KI-Verständnis bei HR-Mitarbeitenden' },
                { id: 'techKnowledge', title: 'Kenntnis verschiedener KI-Technologien' },
                { id: 'useCaseUnderstanding', title: 'Verständnis für KI-Anwendungsfälle' },
                { id: 'aiEthics', title: 'Bewusstsein für KI-Ethik und -Risiken' }
            ]},
            { id: 'technicalSkills', title: 'Technische Fähigkeiten', description: 'Wie gut sind die technischen Fähigkeiten für KI-Projekte?', icon: 'fa-code', subCriteria: [
                { id: 'programmingSkills', title: 'Programmierkenntnisse vorhanden' },
                { id: 'aiTools', title: 'Umgang mit KI-Tools und -Plattformen' },
                { id: 'problemSolving', title: 'Technische Problemlösungsfähigkeiten' },
                { id: 'systemIntegration', title: 'Fähigkeiten zur System-Integration' }
            ]},
            { id: 'trainingPrograms', title: 'Schulungsprogramme', description: 'Gibt es strukturierte Schulungsprogramme für KI-Kompetenzen?', icon: 'fa-chalkboard-teacher', subCriteria: [
                { id: 'regularTraining', title: 'Regelmäßige KI-Schulungen' },
                { id: 'certification', title: 'Zertifizierungsprogramme' },
                { id: 'continuousLearning', title: 'Kontinuierliche Weiterbildung' },
                { id: 'trainingBudget', title: 'Dediziertes Budget für Schulungen' }
            ]},
            { id: 'externalExpertise', title: 'Externe Expertise', description: 'Nutzen Sie externe Expertise für KI-Projekte?', icon: 'fa-user-friends', subCriteria: [
                { id: 'aiConsultants', title: 'Zugang zu KI-Beratern' },
                { id: 'vendorPartnerships', title: 'Partnerschaften mit KI-Anbietern' },
                { id: 'externalExperts', title: 'Externe Experten für spezielle Projekte' },
                { id: 'knowledgeTransfer', title: 'Wissenstransfer von externen Experten' }
            ]},
            { id: 'knowledgeSharing', title: 'Wissensaustausch', description: 'Wie gut funktioniert der Wissensaustausch zu KI-Themen?', icon: 'fa-share-alt', subCriteria: [
                { id: 'sharingSessions', title: 'Regelmäßige Knowledge-Sharing Sessions' },
                { id: 'communities', title: 'Interne Communities of Practice' },
                { id: 'documentation', title: 'Dokumentation und Best Practices' },
                { id: 'internalWiki', title: 'Interne Wissensdatenbank oder Wiki' }
            ]},
            { id: 'innovationCulture', title: 'Innovationskultur', description: 'Wie innovationsfreudig ist Ihre Organisation?', icon: 'fa-lightbulb', subCriteria: [
                { id: 'experimentation', title: 'Experimentierfreude bei neuen Technologien' },
                { id: 'timeForInnovation', title: 'Zeit für Innovation und Experimente' },
                { id: 'rewardInnovation', title: 'Belohnung von Innovationen' },
                { id: 'innovationProcess', title: 'Strukturierte Innovationsprozesse' }
            ]},
            { id: 'adaptability', title: 'Anpassungsfähigkeit', description: 'Wie gut kann sich Ihre Organisation an neue Technologien anpassen?', icon: 'fa-sync-alt', subCriteria: [
                { id: 'fastAdoption', title: 'Schnelle Adoption neuer Tools' },
                { id: 'flexibility', title: 'Flexibilität bei Veränderungen' },
                { id: 'learningReadiness', title: 'Lernbereitschaft und Offenheit' },
                { id: 'changeAgility', title: 'Hohe Change-Agilität der Organisation' }
            ]}
        ];
        let assessmentValues = {};
        function initializeAssessment() {
            const saved = JSON.parse(localStorage.getItem('kiDetailAssessments') || '{}');
            if (saved.skills && saved.skills.details) {
                assessmentValues = saved.skills.details;
            }
            skillsCriteria.forEach(criterion => {
                criterion.subCriteria.forEach(subCriterion => {
                    const key = `${criterion.id}_${subCriterion.id}`;
                    if (!assessmentValues[key]) assessmentValues[key] = 1;
                });
            });
            renderCriteria();
            updateAggregatedScore();
        }
        function renderCriteria() {
            const container = document.getElementById('criteriaContainer');
            container.innerHTML = skillsCriteria.map(criterion => {
                const subValues = criterion.subCriteria.map(sub => {
                    const key = `${criterion.id}_${sub.id}`;
                    return assessmentValues[key] || 1;
                });
                const criterionAverage = (subValues.reduce((sum, val) => sum + val, 0) / subValues.length).toFixed(1);
                return `
                <div class="criterion-card">
                    <div class="criterion-header">
                        <div class="criterion-icon"><i class="fas ${criterion.icon}"></i></div>
                        <div class="criterion-title-section">
                            <h3 class="criterion-title">${criterion.title}</h3>
                            <p class="criterion-description">${criterion.description}</p>
                        </div>
                    </div>
                    <div class="sub-criteria-container">
                        ${criterion.subCriteria.map(subCriterion => {
                            const key = `${criterion.id}_${subCriterion.id}`;
                            const value = assessmentValues[key] || 1;
                            return `
                            <div class="sub-criterion-item" style="border-left-color: #38f9d7;">
                                <div class="sub-criterion-label">${subCriterion.title}</div>
                                ${subCriterion.description ? `<div class="sub-criterion-description" style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.5rem;">${subCriterion.description}</div>` : ''}
                                ${subCriterion.examples && subCriterion.examples.length > 0 ? `
                                <div class="sub-criterion-examples" style="background: #f8fafc; padding: 0.75rem; border-radius: 6px; margin-bottom: 0.75rem; font-size: 0.8rem; color: #6b7280;">
                                    <strong style="color: #374151; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px;">Beispiele:</strong>
                                    <ul style="margin: 0.5rem 0 0 1.25rem; padding: 0;">
                                        ${subCriterion.examples.map(ex => `<li style="margin-bottom: 0.25rem;">${ex}</li>`).join('')}
                                    </ul>
                                </div>
                                ` : ''}
                                <div class="sub-criterion-slider-wrapper">
                                    <input type="range" min="1" max="5" step="1" value="${value}" class="sub-criterion-slider" id="slider-${key}" style="accent-color: #38f9d7;" oninput="updateSubCriterionValue('${criterion.id}', '${subCriterion.id}', this.value)">
                                    <div class="sub-criterion-value" id="value-${key}">${value}</div>
                                    <div class="sub-criterion-scale"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span></div>
                                </div>
                            </div>
                            `;
                        }).join('')}
                        <div class="criterion-average">
                            <span class="criterion-average-label">Durchschnitt für "${criterion.title}":</span>
                            <span class="criterion-average-value" id="avg-${criterion.id}">${criterionAverage}</span>
                        </div>
                    </div>
                </div>
                `;
            }).join('');
        }
        function updateSubCriterionValue(criterionId, subCriterionId, value) {
            const key = `${criterionId}_${subCriterionId}`;
            assessmentValues[key] = parseInt(value);
            document.getElementById(`value-${key}`).textContent = value;
            const criterion = skillsCriteria.find(c => c.id === criterionId);
            const subValues = criterion.subCriteria.map(sub => {
                const subKey = `${criterionId}_${sub.id}`;
                return assessmentValues[subKey] || 1;
            });
            const criterionAverage = (subValues.reduce((sum, val) => sum + val, 0) / subValues.length).toFixed(1);
            document.getElementById(`avg-${criterionId}`).textContent = criterionAverage;
            updateAggregatedScore();
        }
        function updateAggregatedScore() {
            const criterionAverages = skillsCriteria.map(criterion => {
                const subValues = criterion.subCriteria.map(sub => {
                    const key = `${criterion.id}_${sub.id}`;
                    return assessmentValues[key] || 1;
                });
                return subValues.reduce((sum, val) => sum + val, 0) / subValues.length;
            });
            const overallAverage = (criterionAverages.reduce((sum, val) => sum + val, 0) / criterionAverages.length).toFixed(1);
            document.getElementById('aggregatedScore').textContent = overallAverage;
            let description = '';
            if (overallAverage <= 1.5) description = 'Grundlagen - Erhebliche Kompetenzentwicklung erforderlich';
            else if (overallAverage <= 2.5) description = 'Verbesserungswürdig - Grundlagen vorhanden, Weiterbildung nötig';
            else if (overallAverage <= 3.5) description = 'Gut - Solide Basis, weitere Entwicklung möglich';
            else if (overallAverage <= 4.5) description = 'Sehr gut - Hohe Kompetenzen, kleine Verbesserungen möglich';
            else description = 'Expertenwissen - Hervorragende KI-Kompetenzen';
            document.getElementById('scoreDescription').textContent = description;
        }
        function saveAndReturn() {
            const criterionAverages = skillsCriteria.map(criterion => {
                const subValues = criterion.subCriteria.map(sub => {
                    const key = `${criterion.id}_${sub.id}`;
                    return assessmentValues[key] || 1;
                });
                return subValues.reduce((sum, val) => sum + val, 0) / subValues.length;
            });
            const aggregated = (criterionAverages.reduce((sum, val) => sum + val, 0) / criterionAverages.length).toFixed(1);
            let saved = JSON.parse(localStorage.getItem('kiDetailAssessments') || '{}');
            saved.skills = { 
                aggregated: parseFloat(aggregated), 
                details: assessmentValues,
                criterionAverages: skillsCriteria.map(criterion => {
                    const subValues = criterion.subCriteria.map(sub => {
                        const key = `${criterion.id}_${sub.id}`;
                        return assessmentValues[key] || 1;
                    });
                    return {
                        criterionId: criterion.id,
                        average: subValues.reduce((sum, val) => sum + val, 0) / subValues.length
                    };
                }),
                timestamp: new Date().toISOString() 
            };
            localStorage.setItem('kiDetailAssessments', JSON.stringify(saved));
            window.location.href = 'ki-strategie-workflow.html';
        }
        let exporter = null;
        async function exportToExcel() {
            if (!exporter) { exporter = new AssessmentExporter(); await new Promise(r => setTimeout(r, 1000)); }
            const data = prepareExportData();
            await exporter.exportToExcel(data, `KI-Readiness-Skills-${new Date().toISOString().split('T')[0]}`);
        }
        async function exportToPDF() {
            if (!exporter) { exporter = new AssessmentExporter(); await new Promise(r => setTimeout(r, 1000)); }
            const data = prepareExportData();
            await exporter.exportToPDF(data, `KI-Readiness-Skills-${new Date().toISOString().split('T')[0]}`);
        }
        function prepareExportData() {
            const criterionAverages = skillsCriteria.map(c => {
                const subValues = c.subCriteria.map(sub => assessmentValues[`${c.id}_${sub.id}`] || 1);
                return { criterionId: c.id, criterionTitle: c.title, average: subValues.reduce((s, v) => s + v, 0) / subValues.length };
            });
            const overall = criterionAverages.reduce((s, c) => s + c.average, 0) / criterionAverages.length;
            return {
                dimension: 'skills', dimensionName: 'Kompetenz & Skills', overall, aggregated: overall,
                dimensions: { skills: { aggregated: overall, criteria: skillsCriteria.map(c => ({
                    id: c.id, title: c.title, description: c.description, subCriteria: c.subCriteria.map(sub => ({
                        id: sub.id, title: sub.title, value: assessmentValues[`${c.id}_${sub.id}`] || 1
                    }))
                })), criterionAverages }}, details: assessmentValues, timestamp: new Date().toISOString()
            };
        }
        document.addEventListener('DOMContentLoaded', function() { initializeAssessment(); exporter = new AssessmentExporter(); });
    </script>
    <script src="js/assessment-export.js"></script>
</body>
</html>


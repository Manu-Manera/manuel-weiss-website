<div class="workflow-container">
    <div class="workflow-header">
        <button class="btn btn-secondary" onclick="window.location.href='../../persoenlichkeitsentwicklung-uebersicht.html'">
            <i class="fas fa-arrow-left"></i> Zurück zur Übersicht
        </button>
    </div>
    <div class="workflow-intro">
        <h3>Rafael-Methode: Systematische Problemlösung</h3>
        <p>Nutze die bewährte Rafael-Methode für strukturierte Problemlösung und Entscheidungsfindung in komplexen Situationen.</p>
        <div class="workflow-features">
            <span class="feature-badge">Systematisch</span>
            <span class="feature-badge">Strukturiert</span>
            <span class="feature-badge">Logisch</span>
            <span class="feature-badge">Effektiv</span>
        </div>
    
    <div class="workflow-progress">
        <div class="progress-step active" data-step="1">
            <div class="step-number">1</div>
            <div class="step-title">Problem</div>
        <div class="progress-step" data-step="2">
            <div class="step-number">2</div>
            <div class="step-title">Analyse</div>
        <div class="progress-step" data-step="3">
            <div class="step-number">3</div>
            <div class="step-title">Lösung</div>
        <div class="progress-step" data-step="4">
            <div class="step-number">4</div>
            <div class="step-title">Umsetzung</div>
    <!-- Step 1: Problem -->
    <div class="workflow-step active" data-step="1">
        <div class="step-header">
            <h3>Schritt 1: Problem definieren</h3>
            <p>Definiere das Problem klar und präzise, um eine solide Grundlage für die Lösung zu schaffen.</p>
        
        <div class="problem-definition">
            <div class="problem-form">
                <div class="problem-item">
                    <label>Was ist das Problem? (Kurze Beschreibung)</label>
                    <textarea id="problem-description" placeholder="Beschreibe das Problem in 1-2 Sätzen..."></textarea>
                </div>
                
                    <label>Wann tritt das Problem auf?</label>
                    <textarea id="problem-timing" placeholder="Wann tritt das Problem auf?"></textarea>
                    <label>Wer ist betroffen?</label>
                    <textarea id="problem-affected" placeholder="Wer ist von dem Problem betroffen?"></textarea>
                    <label>Welche Auswirkungen hat das Problem?</label>
                    <textarea id="problem-impact" placeholder="Welche negativen Auswirkungen hat das Problem?"></textarea>
            </div>
    <!-- Step 2: Analyse -->
    <div class="workflow-step" data-step="2">
            <h3>Schritt 2: Problem analysieren</h3>
            <p>Analysiere das Problem systematisch, um die Ursachen und Zusammenhänge zu verstehen.</p>
        <div class="problem-analysis">
            <div class="analysis-form">
                <div class="analysis-item">
                    <label>Was sind die möglichen Ursachen?</label>
                    <textarea id="analysis-causes" placeholder="Liste alle möglichen Ursachen auf..."></textarea>
                    <label>Welche Faktoren beeinflussen das Problem?</label>
                    <textarea id="analysis-factors" placeholder="Welche internen und externen Faktoren spielen eine Rolle?"></textarea>
                    <label>Gibt es ähnliche Probleme in der Vergangenheit?</label>
                    <textarea id="analysis-history" placeholder="Wie wurde das Problem früher gelöst?"></textarea>
    <!-- Step 3: Lösung -->
    <div class="workflow-step" data-step="3">
            <h3>Schritt 3: Lösungen entwickeln</h3>
            <p>Entwickle verschiedene Lösungsansätze und wähle die beste aus.</p>
        <div class="solution-development">
            <div class="solution-form">
                <div class="solution-item">
                    <label>Lösungsansatz 1</label>
                    <textarea id="solution-1" placeholder="Beschreibe den ersten Lösungsansatz..."></textarea>
                    <label>Lösungsansatz 2</label>
                    <textarea id="solution-2" placeholder="Beschreibe den zweiten Lösungsansatz..."></textarea>
                    <label>Lösungsansatz 3</label>
                    <textarea id="solution-3" placeholder="Beschreibe den dritten Lösungsansatz..."></textarea>
                    <label>Welche Lösung ist am besten?</label>
                    <textarea id="solution-choice" placeholder="Begründe deine Wahl..."></textarea>
    <!-- Step 4: Umsetzung -->
    <div class="workflow-step" data-step="4">
            <h3>Schritt 4: Lösung umsetzen</h3>
            <p>Setze die gewählte Lösung in konkrete Schritte um und plane die Umsetzung.</p>
        <div class="solution-implementation">
            <div class="implementation-form">
                <div class="implementation-item">
                    <label>Was ist der erste Schritt?</label>
                    <textarea id="implementation-step1" placeholder="Beschreibe den ersten Umsetzungsschritt..."></textarea>
                    <label>Was sind die weiteren Schritte?</label>
                    <textarea id="implementation-steps" placeholder="Liste alle weiteren Schritte auf..."></textarea>
                    <label>Wer ist verantwortlich?</label>
                    <textarea id="implementation-responsible" placeholder="Wer ist für die Umsetzung verantwortlich?"></textarea>
                    <label>Bis wann soll es umgesetzt sein?</label>
                    <textarea id="implementation-deadline" placeholder="Wann soll die Lösung umgesetzt sein?"></textarea>
    <!-- Navigation -->
    <div class="workflow-navigation">
        <div class="nav-buttons">
            <button class="btn btn-outline" id="prev-btn" data-action="previous-step" disabled>
                <i class="fas fa-arrow-left"></i> Zurück
            </button>
            <div class="progress-info">
                <span id="current-step">Schritt 1</span> von <span id="total-steps">4</span>
            <button class="btn btn-primary" id="next-btn" data-action="next-step">
                Weiter <i class="fas fa-arrow-right"></i>
</div>

<!-- Global Auth System -->
<script src="../../js/aws-config.js"></script>
<script src="../../js/unified-auth-manager.js"></script>
    
    <script>
        // Load auth modals
        async function loadAuthModals() {
            try {
                const response = await fetch('components/unified-auth-modals.html');
                const html = await response.text();
                document.getElementById('authModalsContainer').innerHTML = html;
            } catch (error) {
                console.error('Error loading auth modals:', error);
            }
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadAuthModals();
        });
    </script>

<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoverLetterGPT - KI-gestützter Bewerbungsmanager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Modern Workflow AI System -->
    <script src="js/modern-workflow-ai.js"></script>
    <script src="js/api-config.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        .header p {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 2rem;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .feature-icon.ai {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .feature-icon.analytics {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        
        .feature-icon.email {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }
        
        .feature-icon.ui {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
        }
        
        .feature-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #333;
        }
        
        .feature-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        
        .feature-list {
            list-style: none;
            margin-bottom: 1.5rem;
        }
        
        .feature-list li {
            padding: 0.5rem 0;
            color: #555;
            display: flex;
            align-items: center;
        }
        
        .feature-list li:before {
            content: "✓";
            color: #10b981;
            font-weight: bold;
            margin-right: 0.5rem;
        }
        
        .cta-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .workflow-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .workflow-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
            color: #333;
        }
        
        .workflow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .workflow-step {
            background: #f8fafc;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .workflow-step:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .step-number {
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            margin: 0 auto 1rem;
        }
        
        .step-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .step-description {
            color: #666;
            font-size: 0.9rem;
        }
        
        .demo-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .demo-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
            color: #333;
        }
        
        .demo-form {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .form-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            min-height: 120px;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        
        .form-textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .ai-analysis {
            background: #f0f4ff;
            border: 2px solid #667eea;
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1rem;
            display: none;
        }
        
        .ai-analysis.show {
            display: block;
        }
        
        .analysis-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #667eea;
        }
        
        .analysis-content {
            color: #555;
            line-height: 1.6;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            width: 3rem;
            height: 3rem;
            border: 3px solid #e2e8f0;
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .workflow-steps {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🤖 CoverLetterGPT</h1>
            <p>KI-gestützter Bewerbungsmanager mit CoverLetterGPT Integration</p>
        </div>
        
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">95%</div>
                <div class="stat-label">Erfolgsrate</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">2.5k</div>
                <div class="stat-label">Bewerbungen erstellt</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">4.8★</div>
                <div class="stat-label">User Rating</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">24/7</div>
                <div class="stat-label">KI-Support</div>
            </div>
        </div>
        
        <!-- Features Grid -->
        <div class="features-grid">
            <div class="feature-card" onclick="startAIWorkflow()">
                <div class="feature-icon ai">
                    <i class="fas fa-robot"></i>
                </div>
                <h3 class="feature-title">🤖 Enhanced AI Integration</h3>
                <p class="feature-description">CoverLetterGPT's optimierte AI-Prompts für bessere Bewerbungsergebnisse</p>
                <ul class="feature-list">
                    <li>Job-Analyse mit KI</li>
                    <li>Skill-Matching Algorithmus</li>
                    <li>CV-Optimierung</li>
                    <li>Interview-Fragen Generator</li>
                    <li>Gehaltsverhandlung Strategien</li>
                </ul>
                <button class="cta-button">KI-Workflow starten</button>
            </div>
            
            <div class="feature-card" onclick="openAnalytics()">
                <div class="feature-icon analytics">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3 class="feature-title">📊 Advanced Analytics</h3>
                <p class="feature-description">Datengetriebene Einblicke in Ihre Bewerbungsaktivitäten</p>
                <ul class="feature-list">
                    <li>Success Rate Tracking</li>
                    <li>AI Usage Analytics</li>
                    <li>User Engagement Metrics</li>
                    <li>Performance Dashboard</li>
                    <li>Trend Analysis</li>
                </ul>
                <button class="cta-button">Analytics öffnen</button>
            </div>
            
            <div class="feature-card" onclick="openEmailService()">
                <div class="feature-icon email">
                    <i class="fas fa-envelope"></i>
                </div>
                <h3 class="feature-title">📧 Email Service</h3>
                <p class="feature-description">Automatische E-Mail-Benachrichtigungen mit SendGrid</p>
                <ul class="feature-list">
                    <li>Welcome E-Mails</li>
                    <li>Completion Notifications</li>
                    <li>Reminder System</li>
                    <li>Template Management</li>
                    <li>Delivery Tracking</li>
                </ul>
                <button class="cta-button">E-Mail Service</button>
            </div>
            
            <div class="feature-card" onclick="openModernUI()">
                <div class="feature-icon ui">
                    <i class="fas fa-palette"></i>
                </div>
                <h3 class="feature-title">🎨 Modern UI Components</h3>
                <p class="feature-description">React + Chakra UI für moderne Benutzeroberfläche</p>
                <ul class="feature-list">
                    <li>React Components</li>
                    <li>Chakra UI Design System</li>
                    <li>Responsive Design</li>
                    <li>Dark Mode Support</li>
                    <li>Accessibility Features</li>
                </ul>
                <button class="cta-button">UI Demo</button>
            </div>
        </div>
        
        <!-- Workflow Section -->
        <div class="workflow-section">
            <h2 class="workflow-title">🚀 CoverLetterGPT Workflow</h2>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Job-Analyse</h3>
                    <p class="step-description">KI analysiert Stellenausschreibung und extrahiert Anforderungen</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Skill-Matching</h3>
                    <p class="step-description">Automatischer Abgleich Ihrer Qualifikationen</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <h3 class="step-title">KI-Anschreiben</h3>
                    <p class="step-description">Personalisiertes Anschreiben mit CoverLetterGPT</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <h3 class="step-title">CV-Optimierung</h3>
                    <p class="step-description">ATS-optimierte Lebenslauf-Optimierung</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <h3 class="step-title">Interview-Vorbereitung</h3>
                    <p class="step-description">KI-generierte Interview-Fragen und Antworten</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">6</div>
                    <h3 class="step-title">Export & Tracking</h3>
                    <p class="step-description">Finale Bewerbung und Erfolgs-Tracking</p>
                </div>
            </div>
        </div>
        
        <!-- Demo Section -->
        <div class="demo-section">
            <h2 class="demo-title">🎯 CoverLetterGPT Demo</h2>
            <div class="demo-form">
                <div class="form-group">
                    <label class="form-label">Unternehmen</label>
                    <input type="text" class="form-input" id="company" placeholder="z.B. Google, Microsoft, Startup XYZ">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Position</label>
                    <input type="text" class="form-input" id="position" placeholder="z.B. Software Engineer, Marketing Manager">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Stellenausschreibung</label>
                    <textarea class="form-textarea" id="jobDescription" placeholder="Fügen Sie hier die komplette Stellenausschreibung ein..."></textarea>
                </div>
                
                <button class="cta-button" onclick="analyzeJob()">
                    <i class="fas fa-robot"></i>
                    CoverLetterGPT Analyse starten
                </button>
                
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>KI analysiert Ihre Stellenausschreibung...</p>
                </div>
                
                <div class="ai-analysis" id="aiAnalysis">
                    <h3 class="analysis-title">🤖 KI-Analyse Ergebnis</h3>
                    <div class="analysis-content" id="analysisContent">
                        <!-- Analysis content will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // CoverLetterGPT Integration
        class CoverLetterGPT {
            constructor() {
                this.apiKey = null;
                this.baseUrl = 'https://api.openai.com/v1';
                this.workflowAI = null;
                this.init();
            }
            
            async init() {
                // Lade API Key aus verschiedenen Quellen
                this.apiKey = await this.loadAPIKey();
                
                // Warte auf ModernWorkflowAI Initialisierung
                if (window.workflowAI) {
                    this.workflowAI = window.workflowAI;
                } else {
                    // Warte auf Initialisierung
                    const checkInterval = setInterval(() => {
                        if (window.workflowAI) {
                            this.workflowAI = window.workflowAI;
                            clearInterval(checkInterval);
                        }
                    }, 100);
                }
            }
            
            async loadAPIKey() {
                // Versuche API Key aus verschiedenen Quellen zu laden
                const sources = [
                    () => localStorage.getItem('openai_api_key'),
                    () => sessionStorage.getItem('openai_api_key'),
                    () => window.OPENAI_API_KEY,
                    () => this.getAPIKeyFromAdminPanel()
                ];
                
                for (const source of sources) {
                    try {
                        const key = await source();
                        if (key && key.startsWith('sk-')) {
                            console.log('✅ OpenAI API Key gefunden');
                            return key;
                        }
                    } catch (e) {
                        // Ignoriere Fehler
                    }
                }
                
                console.warn('⚠️ OpenAI API Key nicht gefunden - Fallback-Modus aktiviert');
                return null;
            }
            
            async getAPIKeyFromAdminPanel() {
                try {
                    // Versuche API Key aus dem Admin Panel zu laden
                    const response = await fetch('/api/admin/openai-key', {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        if (data.apiKey && data.apiKey.startsWith('sk-')) {
                            localStorage.setItem('openai_api_key', data.apiKey);
                            return data.apiKey;
                        }
                    }
                } catch (error) {
                    console.warn('Admin Panel API Key nicht verfügbar:', error);
                }
                
                return null;
            }
            
            async analyzeJob(company, position, description) {
                // Versuche zuerst die ModernWorkflowAI zu verwenden
                if (this.workflowAI && this.workflowAI.apiKey) {
                    try {
                        console.log('🤖 Verwende ModernWorkflowAI für KI-Analyse');
                        const analysis = await this.workflowAI.analyzeJobDescription(description, company, position);
                        return analysis;
                    } catch (error) {
                        console.error('Fehler bei ModernWorkflowAI:', error);
                    }
                }
                
                // Fallback: Direkte OpenAI API
                if (this.apiKey) {
                    try {
                        console.log('🤖 Verwende direkte OpenAI API');
                        const prompt = `
                            Analysiere die folgende Stellenausschreibung und extrahiere strukturierte Informationen:
                            
                            Stelle: ${position}
                            Unternehmen: ${company}
                            Beschreibung: ${description}
                            
                            Extrahiere folgende Informationen:
                            1. Hauptanforderungen (mindestens 5 konkrete Anforderungen)
                            2. Schlüsselwörter (mindestens 10 relevante Keywords)
                            3. Gewünschte Soft Skills (Kommunikation, Teamarbeit, etc.)
                            4. Technische Anforderungen (Programmiersprachen, Tools, etc.)
                            5. Erfahrungslevel (Junior, Mid-Level, Senior, etc.)
                            6. Branche/Typ (IT, Marketing, Finance, etc.)
                            7. Gehaltsbereich (falls erwähnt)
                            8. Standort/Remote-Möglichkeiten
                            
                            Antworte im JSON-Format mit detaillierter Analyse.
                        `;
                        
                        const response = await fetch(`${this.baseUrl}/chat/completions`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${this.apiKey}`
                            },
                            body: JSON.stringify({
                                model: 'gpt-3.5-turbo',
                                messages: [
                                    {
                                        role: 'system',
                                        content: 'Du bist ein Experte für Bewerbungen und Karriereberatung. Erstelle professionelle, überzeugende Bewerbungsunterlagen und Analysen.'
                                    },
                                    {
                                        role: 'user',
                                        content: prompt
                                    }
                                ],
                                max_tokens: 2000,
                                temperature: 0.7
                            })
                        });
                        
                        if (!response.ok) {
                            throw new Error(`API Fehler: ${response.status}`);
                        }
                        
                        const data = await response.json();
                        return data.choices[0].message.content;
                    } catch (error) {
                        console.error('CoverLetterGPT API Fehler:', error);
                    }
                }
                
                // Fallback: Mock-Daten
                console.warn('⚠️ Verwende Fallback-Analyse');
                return this.getFallbackAnalysis(company, position, description);
            }
            
            getFallbackAnalysis(company, position, description) {
                return {
                    requirements: [
                        'Mindestens 3 Jahre Berufserfahrung',
                        'Starke Kommunikationsfähigkeiten',
                        'Teamfähigkeit und Flexibilität',
                        'Problemlösungsorientiertes Denken',
                        'Erfahrung in der Branche'
                    ],
                    keywords: [
                        'Kommunikation', 'Teamarbeit', 'Problemlösung',
                        'Erfahrung', 'Flexibilität', 'Kreativität',
                        'Analytisches Denken', 'Projektmanagement',
                        'Kundenorientierung', 'Innovation'
                    ],
                    softSkills: [
                        'Kommunikationsfähigkeit',
                        'Teamarbeit',
                        'Problemlösung',
                        'Flexibilität'
                    ],
                    technicalSkills: [
                        'MS Office',
                        'Projektmanagement-Tools',
                        'Branchenspezifische Software'
                    ],
                    experienceLevel: 'Mid-Level',
                    industry: 'Allgemein',
                    salaryRange: 'Nicht spezifiziert',
                    location: 'Flexibel',
                    summary: 'KI-Analyse der Stellenausschreibung abgeschlossen',
                    priorityRequirements: [
                        'Berufserfahrung',
                        'Kommunikationsfähigkeit',
                        'Teamfähigkeit'
                    ],
                    niceToHave: [
                        'Zusätzliche Zertifikate',
                        'Fremdsprachenkenntnisse',
                        'Spezielle Tools-Erfahrung'
                    ]
                };
            }
        }
        
        // Initialize CoverLetterGPT
        const coverLetterGPT = new CoverLetterGPT();
        
        // Feature Functions
        function startAIWorkflow() {
            console.log('🤖 AI Workflow gestartet');
            alert('AI Workflow wird gestartet...\n\nFeatures:\n• Job-Analyse mit KI\n• Skill-Matching\n• CV-Optimierung\n• Interview-Fragen\n• Gehaltsverhandlung');
        }
        
        function openAnalytics() {
            console.log('📊 Analytics geöffnet');
            window.open('analytics-dashboard.html', '_blank');
        }
        
        function openEmailService() {
            console.log('📧 Email Service geöffnet');
            alert('Email Service Features:\n\n• SendGrid Integration\n• Welcome E-Mails\n• Completion Notifications\n• Reminder System\n• Template Management');
        }
        
        function openModernUI() {
            console.log('🎨 Modern UI geöffnet');
            alert('Modern UI Components:\n\n• React + Chakra UI\n• Responsive Design\n• Dark Mode Support\n• Accessibility Features\n• Smooth Animations');
        }
        
        // Demo Functions
        async function analyzeJob() {
            const company = document.getElementById('company').value;
            const position = document.getElementById('position').value;
            const description = document.getElementById('jobDescription').value;
            
            if (!company || !position || !description) {
                alert('Bitte füllen Sie alle Felder aus');
                return;
            }
            
            // Show loading
            document.getElementById('loading').classList.add('active');
            document.getElementById('aiAnalysis').classList.remove('show');
            
            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const analysis = await coverLetterGPT.analyzeJob(company, position, description);
                
                // Display results
                document.getElementById('analysisContent').innerHTML = `
                    <div style="background: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                        <h4 style="color: #667eea; margin-bottom: 1rem;">📋 Hauptanforderungen</h4>
                        <ul style="list-style: none; padding: 0;">
                            ${analysis.requirements.map(req => `<li style="padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0;">✓ ${req}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div style="background: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                        <h4 style="color: #667eea; margin-bottom: 1rem;">🔑 Schlüsselwörter</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            ${analysis.keywords.map(keyword => `<span style="background: #f0f4ff; color: #667eea; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.9rem;">${keyword}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div style="background: white; padding: 1.5rem; border-radius: 8px;">
                        <h4 style="color: #667eea; margin-bottom: 1rem;">📊 Zusammenfassung</h4>
                        <p><strong>Erfahrungslevel:</strong> ${analysis.experienceLevel}</p>
                        <p><strong>Branche:</strong> ${analysis.industry}</p>
                        <p><strong>Standort:</strong> ${analysis.location}</p>
                        <p><strong>Gehaltsbereich:</strong> ${analysis.salaryRange}</p>
                    </div>
                `;
                
                document.getElementById('aiAnalysis').classList.add('show');
                
            } catch (error) {
                console.error('Analyse Fehler:', error);
                alert('Fehler bei der Analyse. Bitte versuchen Sie es erneut.');
            } finally {
                document.getElementById('loading').classList.remove('active');
            }
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 CoverLetterGPT System geladen');
            
            // Add some interactive effects
            const featureCards = document.querySelectorAll('.feature-card');
            featureCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        });
    </script>
</body>
</html>

<!-- UNIFIED AWS AUTHENTICATION MODALS -->
<!-- Diese Komponente wird dynamisch in alle Seiten geladen -->

<div id="authModalsContainer">
    <!-- Login Modal -->
    <div class="auth-modal" id="loginModal" style="display: none;">
        <div class="modal-backdrop" onclick="authModals.closeModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-sign-in-alt"></i> Anmelden</h2>
                <button class="modal-close" onclick="authModals.closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="loginForm" onsubmit="authModals.handleLogin(event)">
                    <div class="form-group">
                        <label for="loginEmail">E-Mail-Adresse</label>
                        <input type="email" id="loginEmail" required placeholder="ihre@email.com">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Passwort</label>
                        <input type="password" id="loginPassword" required placeholder="Ihr Passwort">
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe">
                            <span class="checkmark"></span>
                            Angemeldet bleiben
                        </label>
                        <a href="#" onclick="authModals.showForgotPassword(); return false;" class="forgot-link">
                            Passwort vergessen?
                        </a>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-sign-in-alt"></i>
                        Anmelden
                    </button>
                </form>
                <div class="modal-footer">
                    <p>Noch kein Konto? <a href="#" onclick="authModals.showRegister(); return false;">Jetzt registrieren</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="auth-modal" id="registerModal" style="display: none;">
        <div class="modal-backdrop" onclick="authModals.closeModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-plus"></i> Registrieren</h2>
                <button class="modal-close" onclick="authModals.closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="registerForm" onsubmit="authModals.handleRegister(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="registerFirstName">Vorname</label>
                            <input type="text" id="registerFirstName" required placeholder="Ihr Vorname">
                        </div>
                        <div class="form-group">
                            <label for="registerLastName">Nachname</label>
                            <input type="text" id="registerLastName" required placeholder="Ihr Nachname">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">E-Mail-Adresse</label>
                        <input type="email" id="registerEmail" required placeholder="ihre@email.com">
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Passwort</label>
                        <input type="password" id="registerPassword" required placeholder="Mindestens 8 Zeichen">
                        <div class="password-requirements">
                            <small>Mindestens 8 Zeichen, Groß- und Kleinbuchstaben, Zahlen</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="registerPasswordConfirm">Passwort bestätigen</label>
                        <input type="password" id="registerPasswordConfirm" required placeholder="Passwort wiederholen">
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="acceptTerms" required>
                            <span class="checkmark"></span>
                            Ich akzeptiere die <a href="nutzungsbedingungen.html" target="_blank">Nutzungsbedingungen</a> und <a href="datenschutz.html" target="_blank">Datenschutzerklärung</a>
                        </label>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-user-plus"></i>
                        Registrieren
                    </button>
                </form>
                <div class="modal-footer">
                    <p>Bereits ein Konto? <a href="#" onclick="authModals.showLogin(); return false;">Jetzt anmelden</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Email Verification Modal -->
    <div class="auth-modal" id="verificationModal" style="display: none;">
        <div class="modal-backdrop" onclick="authModals.closeModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-envelope"></i> E-Mail bestätigen</h2>
                <button class="modal-close" onclick="authModals.closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="verification-info">
                    <i class="fas fa-envelope-open"></i>
                    <h3>Bestätigungscode gesendet</h3>
                    <p>Wir haben einen Bestätigungscode an <strong id="verificationEmail"></strong> gesendet.</p>
                    <p>Bitte geben Sie den Code ein, um Ihr Konto zu aktivieren.</p>
                </div>
                <form id="verificationForm" onsubmit="authModals.handleVerification(event)">
                    <div class="form-group">
                        <label for="verificationCode">Bestätigungscode</label>
                        <input type="text" id="verificationCode" required placeholder="6-stelliger Code" maxlength="6" pattern="[0-9]{6}">
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-check"></i>
                        Bestätigen
                    </button>
                </form>
                <div class="modal-footer">
                    <p>Code nicht erhalten? <a href="#" onclick="authModals.resendCode(); return false;">Erneut senden</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="auth-modal" id="forgotPasswordModal" style="display: none;">
        <div class="modal-backdrop" onclick="authModals.closeModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-key"></i> Passwort vergessen</h2>
                <button class="modal-close" onclick="authModals.closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="forgot-info">
                    <i class="fas fa-question-circle"></i>
                    <h3>Passwort zurücksetzen</h3>
                    <p>Geben Sie Ihre E-Mail-Adresse ein. Wir senden Ihnen einen Code zum Zurücksetzen des Passworts.</p>
                </div>
                <form id="forgotPasswordForm" onsubmit="authModals.handleForgotPassword(event)">
                    <div class="form-group">
                        <label for="forgotEmail">E-Mail-Adresse</label>
                        <input type="email" id="forgotEmail" required placeholder="ihre@email.com">
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-paper-plane"></i>
                        Code senden
                    </button>
                </form>
                <div class="modal-footer">
                    <p>Zurück zur <a href="#" onclick="authModals.showLogin(); return false;">Anmeldung</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Reset Password Modal -->
    <div class="auth-modal" id="resetPasswordModal" style="display: none;">
        <div class="modal-backdrop" onclick="authModals.closeModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-lock"></i> Neues Passwort</h2>
                <button class="modal-close" onclick="authModals.closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="reset-info">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Passwort zurücksetzen</h3>
                    <p>Geben Sie den Code aus Ihrer E-Mail und Ihr neues Passwort ein.</p>
                </div>
                <form id="resetPasswordForm" onsubmit="authModals.handleResetPassword(event)">
                    <div class="form-group">
                        <label for="resetCode">Bestätigungscode</label>
                        <input type="text" id="resetCode" required placeholder="Code aus E-Mail">
                    </div>
                    <div class="form-group">
                        <label for="resetPassword">Neues Passwort</label>
                        <input type="password" id="resetPassword" required placeholder="Neues Passwort">
                    </div>
                    <div class="form-group">
                        <label for="resetPasswordConfirm">Passwort bestätigen</label>
                        <input type="password" id="resetPasswordConfirm" required placeholder="Passwort wiederholen">
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i>
                        Passwort ändern
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>


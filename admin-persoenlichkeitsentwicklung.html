<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Pers√∂nlichkeitsentwicklung</title>
    <link rel="stylesheet" href="css/ikigai-planner.css">
    <link rel="stylesheet" href="css/admin-persoenlichkeitsentwicklung.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/unified-auth-system.css">
</head>
<body>
    <div class="admin-container">
        <!-- Admin Header -->
        <header class="admin-header">
            <div class="admin-header-content">
                <div class="admin-logo">
                    <i class="fas fa-cogs"></i>
                    <h1>Admin Panel - Pers√∂nlichkeitsentwicklung</h1>
                </div>
                <div class="admin-actions">
                    <button class="btn btn-primary" data-action="save-all-changes">
                        <i class="fas fa-save"></i> Alle √Ñnderungen speichern
                    </button>
                    <button class="btn btn-outline" data-action="export-configuration">
                        <i class="fas fa-download"></i> Konfiguration exportieren
                    <button class="btn btn-outline" data-action="import-configuration">
                        <i class="fas fa-upload"></i> Konfiguration importieren
                    <button class="btn btn-secondary" data-action="reset-to-defaults">
                        <i class="fas fa-undo"></i> Zur√ºcksetzen
            </div>
        </header>

        <!-- Admin Navigation -->
        <nav class="admin-nav">
            <div class="admin-nav-content">
                <div class="nav-tabs">
                    <!-- Pers√∂nlichkeitsentwicklung Dropdown -->
                    <div class="nav-dropdown">
                        <button class="nav-tab dropdown-toggle active" data-tab="personality" data-action="toggle-dropdown" data-param="personality">
                            <i class="fas fa-user-graduate"></i> Pers√∂nlichkeitsentwicklung
                            <i class="fas fa-chevron-down dropdown-arrow"></i>
                        </button>
                        <div class="dropdown-menu" id="personality-dropdown">
                            <button class="dropdown-item" data-tab="ikigai" data-action="switch-tab" data-param="ikigai">
                                <i class="fas fa-compass"></i> Ikigai-Workflow
                            </button>
                            <button class="dropdown-item" data-tab="values" data-action="switch-tab" data-param="values">
                                <i class="fas fa-heart"></i> Werte-Kl√§rung
                            <button class="dropdown-item" data-tab="strengths" data-action="switch-tab" data-param="strengths">
                                <i class="fas fa-star"></i> St√§rken-Analyse
                            <button class="dropdown-item" data-tab="goals" data-action="switch-tab" data-param="goals">
                                <i class="fas fa-bullseye"></i> Ziel-Setting
                            <button class="dropdown-item" data-tab="mindfulness" data-action="switch-tab" data-param="mindfulness">
                                <i class="fas fa-leaf"></i> Achtsamkeit & Meditation
                            <button class="dropdown-item" data-tab="emotional-intelligence" data-action="switch-tab" data-param="emotional-intelligence">
                                <i class="fas fa-brain"></i> Emotionale Intelligenz
                            <button class="dropdown-item" data-tab="habits" data-action="switch-tab" data-param="habits">
                                <i class="fas fa-sync-alt"></i> Gewohnheiten aufbauen
                            <button class="dropdown-item" data-tab="communication" data-action="switch-tab" data-param="communication">
                                <i class="fas fa-comments"></i> Kommunikation
                            <button class="dropdown-item" data-tab="time-management" data-action="switch-tab" data-param="time-management">
                                <i class="fas fa-clock"></i> Zeitmanagement
                            <button class="dropdown-item" data-tab="nlp-dilts" data-action="switch-tab" data-param="nlp-dilts">
                                <i class="fas fa-layer-group"></i> NLP Dilts - Logische Ebenen
                            <button class="dropdown-item" data-tab="johari-window" data-action="switch-tab" data-param="johari-window">
                                <i class="fas fa-window-restore"></i> Johari-Fenster
                            <button class="dropdown-item" data-tab="walt-disney" data-action="switch-tab" data-param="walt-disney">
                                <i class="fas fa-magic"></i> Walt-Disney-Strategie
                            <button class="dropdown-item" data-tab="nonviolent-communication" data-action="switch-tab" data-param="nonviolent-communication">
                                <i class="fas fa-dove"></i> Gewaltfreie Kommunikation
                            <button class="dropdown-item" data-tab="five-pillars" data-action="switch-tab" data-param="five-pillars">
                                <i class="fas fa-columns"></i> F√ºnf S√§ulen der Identit√§t
                            <button class="dropdown-item" data-tab="nlp-meta-goal" data-action="switch-tab" data-param="nlp-meta-goal">
                                <i class="fas fa-crosshairs"></i> NLP Meta-Ziel
                            <button class="dropdown-item" data-tab="aek-communication" data-action="switch-tab" data-param="aek-communication">
                                <i class="fas fa-comment-dots"></i> AEK - Aspektbezogene Kommunikation
                            <button class="dropdown-item" data-tab="rubikon-model" data-action="switch-tab" data-param="rubikon-model">
                                <i class="fas fa-river"></i> Rubikon-Modell
                            <button class="dropdown-item" data-tab="systemic-coaching" data-action="switch-tab" data-param="systemic-coaching">
                                <i class="fas fa-project-diagram"></i> Systemisches Coaching
                            <button class="dropdown-item" data-tab="rafael-method" data-action="switch-tab" data-param="rafael-method">
                                <i class="fas fa-angel"></i> RAFAEL-Methode
                            <button class="dropdown-item" data-tab="conflict-escalation" data-action="switch-tab" data-param="conflict-escalation">
                                <i class="fas fa-exclamation-triangle"></i> Neun Stufen der Konflikteskalation
                            <button class="dropdown-item" data-tab="harvard-method" data-action="switch-tab" data-param="harvard-method">
                                <i class="fas fa-university"></i> Harvard-Methode
                            <button class="dropdown-item" data-tab="circular-interview" data-action="switch-tab" data-param="circular-interview">
                                <i class="fas fa-sync"></i> Zirkul√§res Interview
                            <button class="dropdown-item" data-tab="target-coaching" data-action="switch-tab" data-param="target-coaching">
                                <i class="fas fa-bullseye"></i> Target Coaching
                            <button class="dropdown-item" data-tab="solution-focused" data-action="switch-tab" data-param="solution-focused">
                                <i class="fas fa-lightbulb"></i> L√∂sungsorientierte Kurzzeitberatung
                            <button class="dropdown-item" data-tab="change-stages" data-action="switch-tab" data-param="change-stages">
                                <i class="fas fa-route"></i> Sechs Stufen der Ver√§nderung
                            <button class="dropdown-item" data-tab="competence-map" data-action="switch-tab" data-param="competence-map">
                                <i class="fas fa-map"></i> Kompetenzkarte
                            <button class="dropdown-item" data-tab="moment-excellence" data-action="switch-tab" data-param="moment-excellence">
                                <i class="fas fa-crown"></i> Moment of Excellence
                            <button class="dropdown-item" data-tab="resource-analysis" data-action="switch-tab" data-param="resource-analysis">
                                <i class="fas fa-tools"></i> Ressourcenanalyse
                        </div>
                    </div>
                    
                    <!-- Allgemeine Admin-Funktionen -->
                    <button class="nav-tab" data-tab="users" data-action="switch-tab" data-param="users">
                        <i class="fas fa-users"></i> Benutzer verwalten
                    <button class="nav-tab" data-tab="analytics" data-action="switch-tab" data-param="analytics">
                        <i class="fas fa-chart-bar"></i> Analytics
                    <button class="nav-tab" data-tab="settings" data-action="switch-tab" data-param="settings">
                        <i class="fas fa-cog"></i> Einstellungen
        </nav>
        <!-- Admin Content -->
        <main class="admin-main">
            <!-- Ikigai Tab -->
            <div class="admin-tab-content active" id="ikigai-tab">
                <div class="tab-header">
                    <h2>Ikigai-Workflow verwalten</h2>
                    <p>Verwalte alle Inhalte, Fragen und Workflow-Schritte f√ºr die Ikigai-Methode.</p>
                
                <div class="method-admin-content">
                    <div class="admin-section">
                        <h3>Workflow-Schritte</h3>
                        <div class="workflow-steps-admin">
                            <div class="step-admin">
                                <h4>Schritt 1: Was du liebst</h4>
                                <textarea class="admin-textarea" placeholder="Beschreibung des Schritts..."></textarea>
                                <div class="questions-admin">
                                    <h5>Reflexionsfragen:</h5>
                                    <div class="question-list">
                                        <div class="question-item">
                                            <input type="text" class="admin-input" placeholder="Frage hinzuf√ºgen...">
                                            <button class="btn btn-danger btn-sm" data-action="remove-question">Entfernen</button>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary btn-sm" data-action="add-question">Frage hinzuf√ºgen</button>
                                </div>
                            </div>
                            
                                <h4>Schritt 2: Was die Welt braucht</h4>
                                <h4>Schritt 3: Wof√ºr du bezahlt wirst</h4>
                                <h4>Schritt 4: Worin du gut bist</h4>
                                <h4>Schritt 5: Ikigai-Schnittmenge</h4>
                                <h4>Schritt 6: Aktionsplan</h4>
                                <h4>Schritt 7: Reflexion & Anpassung</h4>
                        <h3>Methoden-Eigenschaften</h3>
                        <div class="method-properties">
                            <div class="property-group">
                                <label>Methoden-Name:</label>
                                <input type="text" class="admin-input" value="Ikigai-Workflow">
                                <label>Beschreibung:</label>
                                <textarea class="admin-textarea" placeholder="Kurze Beschreibung der Methode..."></textarea>
                                <label>Gesch√§tzte Dauer:</label>
                                <input type="text" class="admin-input" value="2-3 Stunden">
                                <label>Anzahl Schritte:</label>
                                <input type="number" class="admin-input" value="7">
                                <label>Schwierigkeitsgrad:</label>
                                <select class="admin-select">
                                    <option value="beginner">Anf√§nger</option>
                                    <option value="intermediate">Fortgeschritten</option>
                                    <option value="advanced">Experte</option>
                                </select>
            <!-- Werte-Kl√§rung Tab -->
            <div class="admin-tab-content" id="values-tab">
                    <h2>Werte-Kl√§rung verwalten</h2>
                    <p>Verwalte alle Inhalte, Fragen und Workflow-Schritte f√ºr die Werte-Kl√§rung mit granularen Einstellungen.</p>
                    <!-- Werte-Bibliothek Management -->
                        <h3>üìö Werte-Bibliothek</h3>
                        <div class="values-library-admin">
                            <div class="library-controls">
                                <button class="btn btn-primary" data-action="add-value-category">+ Neue Kategorie</button>
                                <button class="btn btn-outline" data-action="import-values">Werte importieren</button>
                                <button class="btn btn-outline" data-action="export-values">Werte exportieren</button>
                            <div class="values-categories-admin">
                                <div class="category-admin">
                                    <h4>üíï Beziehungen & Familie</h4>
                                    <div class="category-controls">
                                        <button class="btn btn-sm btn-outline" data-action="add-value-to-category" data-param="relationships">+ Wert hinzuf√ºgen</button>
                                        <button class="btn btn-sm btn-danger" data-action="delete-category" data-param="relationships">Kategorie l√∂schen</button>
                                    <div class="values-list-admin">
                                        <div class="value-item-admin">
                                            <input type="text" value="Liebe" class="admin-input">
                                            <input type="text" value="liebe" class="admin-input" placeholder="ID">
                                            <button class="btn btn-sm btn-danger" data-action="remove-value">Entfernen</button>
                                            <input type="text" value="Familie" class="admin-input">
                                            <input type="text" value="familie" class="admin-input" placeholder="ID">
                                
                                    <h4>üíº Beruf & Karriere</h4>
                                        <button class="btn btn-sm btn-outline" data-action="add-value-to-category" data-param="career">+ Wert hinzuf√ºgen</button>
                                        <button class="btn btn-sm btn-danger" data-action="delete-category" data-param="career">Kategorie l√∂schen</button>
                                            <input type="text" value="Erfolg" class="admin-input">
                                            <input type="text" value="erfolg" class="admin-input" placeholder="ID">
                    <!-- Werte-Quiz Management -->
                        <h3>üéØ Werte-Quiz</h3>
                        <div class="quiz-admin">
                            <div class="quiz-controls">
                                <button class="btn btn-primary" data-action="add-quiz-question">+ Neue Frage</button>
                                <button class="btn btn-outline" data-action="preview-quiz">Quiz-Vorschau</button>
                            <div class="quiz-questions-admin">
                                <div class="question-admin">
                                    <h5>Frage 1</h5>
                                    <textarea class="admin-textarea" placeholder="Frage eingeben...">Wenn du eine wichtige Entscheidung treffen m√ºsstest, was w√§re dir am wichtigsten?</textarea>
                                    <div class="question-options">
                                        <div class="option-admin">
                                            <input type="text" value="Was andere von mir denken" class="admin-input">
                                            <input type="text" value="anerkennung" class="admin-input" placeholder="Wert-ID">
                                            <input type="text" value="Meine eigenen Bed√ºrfnisse" class="admin-input">
                                            <input type="text" value="authentizit√§t" class="admin-input" placeholder="Wert-ID">
                                    <button class="btn btn-sm btn-outline" data-action="add-quiz-option">+ Option hinzuf√ºgen</button>
                                    <button class="btn btn-sm btn-danger" data-action="remove-quiz-question">Frage entfernen</button>
                    <!-- Konflikt-Detektor Management -->
                        <h3>üîç Konflikt-Detektor</h3>
                        <div class="conflict-detector-admin">
                            <div class="conflict-controls">
                                <button class="btn btn-primary" data-action="add-conflict-pair">+ Konflikt-Paar hinzuf√ºgen</button>
                            <div class="conflict-pairs-admin">
                                <div class="conflict-pair-admin">
                                    <div class="conflict-inputs">
                                        <select class="admin-select">
                                            <option value="karriere">Karriere</option>
                                            <option value="familie">Familie</option>
                                        </select>
                                        <span>vs.</span>
                                    <textarea class="admin-textarea" placeholder="Konflikt-Beschreibung...">Potentieller Konflikt zwischen Karriere und Familie</textarea>
                                    <button class="btn btn-sm btn-danger" data-action="remove-conflict-pair">Entfernen</button>
                    <!-- Lebensbereiche Management -->
                        <h3>üè† Lebensbereiche</h3>
                        <div class="life-areas-admin">
                            <div class="areas-controls">
                                <button class="btn btn-primary" data-action="add-life-area">+ Lebensbereich hinzuf√ºgen</button>
                            <div class="life-areas-list-admin">
                                <div class="life-area-admin">
                                    <input type="text" value="üíº Beruf & Karriere" class="admin-input">
                                    <input type="text" value="career" class="admin-input" placeholder="ID">
                                    <textarea class="admin-textarea" placeholder="Beschreibung...">Deine berufliche Entwicklung und Karriereziele</textarea>
                                    <button class="btn btn-sm btn-danger" data-action="remove-life-area">Entfernen</button>
                                    <input type="text" value="üíï Beziehungen & Familie" class="admin-input">
                                    <input type="text" value="relationships" class="admin-input" placeholder="ID">
                                    <textarea class="admin-textarea" placeholder="Beschreibung...">Deine pers√∂nlichen Beziehungen und Familie</textarea>
                    <!-- Werte-Tracking Management -->
                        <h3>üìä Werte-Tracking</h3>
                        <div class="tracking-admin">
                            <div class="tracking-settings">
                                <div class="setting-group">
                                    <label>
                                        <input type="checkbox" checked> T√§glicher Check-in aktiviert
                                    </label>
                                        <input type="checkbox" checked> W√∂chentliche Review aktiviert
                                        <input type="checkbox" checked> Monatliche Bewertung aktiviert
                            <div class="challenges-admin">
                                <h4>üéØ Werte-Challenges</h4>
                                <div class="challenges-controls">
                                    <button class="btn btn-primary" data-action="add-value-challenge">+ Challenge hinzuf√ºgen</button>
                                <div class="challenges-list-admin">
                                    <div class="challenge-admin">
                                        <input type="text" value="30 Tage Liebe leben" class="admin-input">
                                        <textarea class="admin-textarea" placeholder="Challenge-Beschreibung...">Jeden Tag eine bewusste Handlung der Liebe</textarea>
                                        <input type="number" value="30" class="admin-input" placeholder="Tage">
                                        <button class="btn btn-sm btn-danger" data-action="remove-challenge">Entfernen</button>
                                <h4>Schritt 1: Werte-Identifikation</h4>
                                <h4>Schritt 2: Werte-Ranking</h4>
                                <h4>Schritt 3: Konflikt-Analyse</h4>
                                <h4>Schritt 4: Lebensbereiche</h4>
                                <input type="text" class="admin-input" value="Werte-Kl√§rung">
                                <input type="text" class="admin-input" value="1-2 Stunden">
                                <input type="number" class="admin-input" value="4">
                                    <option value="intermediate" selected>Fortgeschritten</option>
            <!-- St√§rken-Analyse Tab -->
            <div class="admin-tab-content" id="strengths-tab">
                    <h2>St√§rken-Analyse verwalten</h2>
                    <p>Verwalte alle Inhalte, Fragen und Workflow-Schritte f√ºr die St√§rken-Analyse.</p>
                                <h4>Schritt 1: St√§rken-Identifikation</h4>
                                <h4>Schritt 2: Gallup-St√§rken</h4>
                                <h4>Schritt 3: VIA-Test</h4>
                                <h4>Schritt 4: Entwicklungsplan</h4>
                                <input type="text" class="admin-input" value="St√§rken-Analyse">
                                    <option value="beginner" selected>Anf√§nger</option>
            <!-- Ziel-Setting Tab -->
            <div class="admin-tab-content" id="goals-tab">
                    <h2>Ziel-Setting verwalten</h2>
                    <p>Verwalte alle Inhalte, Fragen und Workflow-Schritte f√ºr das Ziel-Setting.</p>
                                <h4>Schritt 1: SMART-Ziele</h4>
                                <h4>Schritt 2: Aktionsplan</h4>
                                <h4>Schritt 3: Tracking</h4>
                                <input type="text" class="admin-input" value="Ziel-Setting">
                                <input type="number" class="admin-input" value="3">
            <!-- NLP Dilts Tab -->
            <div class="admin-tab-content" id="nlp-dilts-tab">
                    <h2>NLP Dilts - Logische Ebenen verwalten</h2>
                    <p>Verwalte alle Inhalte, Fragen und Workflow-Schritte f√ºr die NLP Dilts Methode.</p>
                                <h4>Schritt 1: Umgebung</h4>
                                <h4>Schritt 2: Verhalten</h4>
                                <h4>Schritt 3: F√§higkeiten</h4>
                                <h4>Schritt 4: Werte & √úberzeugungen</h4>
                                <h4>Schritt 5: Identit√§t</h4>
                                <h4>Schritt 6: Spiritualit√§t</h4>
                                <input type="text" class="admin-input" value="NLP Dilts - Logische Ebenen">
                                <input type="number" class="admin-input" value="6">
            <!-- Methods Management Tab -->
            <div class="admin-tab-content" id="methods-tab">
                    <h2>Methoden verwalten</h2>
                    <p>Verwalte alle Pers√∂nlichkeitsentwicklungs-Methoden und deren Eigenschaften.</p>
                <div class="methods-management">
                    <div class="methods-list">
                        <div class="methods-header">
                            <h3>Verf√ºgbare Methoden</h3>
                            <button class="btn btn-primary" data-action="add-new-method">
                                <i class="fas fa-plus"></i> Neue Methode hinzuf√ºgen
                        <div class="methods-grid" id="methods-grid">
                            <!-- Methods will be dynamically loaded here -->
                    <div class="method-editor" id="method-editor" style="display: none;">
                        <div class="editor-header">
                            <h3>Methode bearbeiten</h3>
                            <button class="btn btn-secondary" data-action="close-method-editor">
                                <i class="fas fa-times"></i> Schlie√üen
                        <div class="editor-content">
                            <div class="editor-section">
                                <h4>Grundinformationen</h4>
                                <div class="form-group">
                                    <label>Methoden-ID:</label>
                                    <input type="text" id="method-id" class="form-input" readonly>
                                    <label>Methoden-Titel:</label>
                                    <input type="text" id="method-title" class="form-input">
                                    <label>Beschreibung:</label>
                                    <textarea id="method-description" class="form-textarea"></textarea>
                                    <label>Icon (Font Awesome Klasse):</label>
                                    <input type="text" id="method-icon" class="form-input" placeholder="z.B. fas fa-heart">
                                    <label>Feature-Tags (kommagetrennt):</label>
                                    <input type="text" id="method-tags" class="form-input" placeholder="z.B. Selbstreflexion, Werte, 4 Schritte">
                                <h4>Workflow-Konfiguration</h4>
                                    <label>Anzahl Schritte:</label>
                                    <input type="number" id="method-steps" class="form-input" min="1" max="10">
                                    <label>Gesch√§tzte Dauer (Minuten):</label>
                                    <input type="number" id="method-duration" class="form-input" min="5" max="300">
                                    <label>Schwierigkeitsgrad:</label>
                                    <select id="method-difficulty" class="form-select">
                                        <option value="beginner">Anf√§nger</option>
                                        <option value="intermediate">Fortgeschritten</option>
                                        <option value="advanced">Experte</option>
                                    </select>
                                <h4>Status & Sichtbarkeit</h4>
                                        <input type="checkbox" id="method-active" class="form-checkbox">
                                        Methode ist aktiv
                                        <input type="checkbox" id="method-featured" class="form-checkbox">
                                        Als empfohlen markieren
                                    <label>Sortierreihenfolge:</label>
                                    <input type="number" id="method-order" class="form-input" min="0">
                            <div class="editor-actions">
                                <button class="btn btn-primary" data-action="save-method">
                                    <i class="fas fa-save"></i> Methode speichern
                                </button>
                                <button class="btn btn-danger" data-action="delete-method">
                                    <i class="fas fa-trash"></i> Methode l√∂schen
            <!-- Content Management Tab -->
            <div class="admin-tab-content" id="content-tab">
                    <h2>Inhalte bearbeiten</h2>
                    <p>Bearbeite alle Texte, Beschreibungen und Inhalte der Methoden.</p>
                <div class="content-management">
                    <div class="content-selector">
                        <div class="form-group">
                            <label>Methode ausw√§hlen:</label>
                            <select id="content-method-select" class="form-select" onchange="loadMethodContent()">
                                <option value="">Methode ausw√§hlen...</option>
                            </select>
                    <div class="content-editor" id="content-editor" style="display: none;">
                        <div class="content-sections">
                            <div class="content-section">
                                <h4>√úbersichtsseite</h4>
                                    <label>Haupttitel:</label>
                                    <input type="text" id="content-main-title" class="form-input">
                                    <label>Untertitel:</label>
                                    <input type="text" id="content-subtitle" class="form-input">
                                    <textarea id="content-description" class="form-textarea"></textarea>
                                <h4>Workflow-Schritte</h4>
                                <div id="workflow-steps-editor">
                                    <!-- Workflow steps will be dynamically loaded here -->
                                <button class="btn btn-outline" data-action="add-workflow-step">
                                    <i class="fas fa-plus"></i> Schritt hinzuf√ºgen
                                <h4>Reflexionsfragen</h4>
                                <div id="reflection-questions-editor">
                                    <!-- Reflection questions will be dynamically loaded here -->
                                <button class="btn btn-outline" data-action="add-reflection-question">
                                    <i class="fas fa-plus"></i> Frage hinzuf√ºgen
                            <div class="content-actions">
                                <button class="btn btn-primary" data-action="save-method-content">
                                    <i class="fas fa-save"></i> Inhalte speichern
                                <button class="btn btn-outline" data-action="preview-method">
                                    <i class="fas fa-eye"></i> Vorschau
            <!-- Questions Management Tab -->
            <div class="admin-tab-content" id="questions-tab">
                    <h2>Fragen verwalten</h2>
                    <p>Verwalte alle Reflexionsfragen und deren Kategorien.</p>
                <div class="questions-management">
                    <div class="questions-categories">
                        <div class="category-header">
                            <h3>Fragen-Kategorien</h3>
                            <button class="btn btn-primary" data-action="add-question-category">
                                <i class="fas fa-plus"></i> Kategorie hinzuf√ºgen
                        <div class="categories-list" id="categories-list">
                            <!-- Categories will be dynamically loaded here -->
                    <div class="questions-editor" id="questions-editor" style="display: none;">
                            <h3>Fragen bearbeiten</h3>
                            <button class="btn btn-secondary" data-action="close-questions-editor">
                            <div class="form-group">
                                <label>Kategorie:</label>
                                <input type="text" id="question-category" class="form-input" readonly>
                            <div class="questions-list" id="questions-list">
                                <!-- Questions will be dynamically loaded here -->
                            <button class="btn btn-outline" data-action="add-question">
                                <i class="fas fa-plus"></i> Frage hinzuf√ºgen
                                <button class="btn btn-primary" data-action="save-questions">
                                    <i class="fas fa-save"></i> Fragen speichern
            <!-- Workflows Configuration Tab -->
            <div class="admin-tab-content" id="workflows-tab">
                    <h2>Workflows konfigurieren</h2>
                    <p>Konfiguriere die Workflow-Struktur und Navigation f√ºr alle Methoden.</p>
                <div class="workflows-management">
                    <div class="workflow-selector">
                            <label>Workflow ausw√§hlen:</label>
                            <select id="workflow-select" class="form-select" onchange="loadWorkflowConfig()">
                                <option value="">Workflow ausw√§hlen...</option>
                    <div class="workflow-config" id="workflow-config" style="display: none;">
                        <div class="workflow-steps-config">
                            <h4>Workflow-Schritte</h4>
                            <div id="workflow-steps-config">
                                <!-- Workflow steps configuration will be loaded here -->
                        <div class="workflow-settings">
                            <h4>Workflow-Einstellungen</h4>
                                <label>
                                    <input type="checkbox" id="workflow-auto-save" class="form-checkbox">
                                    Automatisches Speichern aktivieren
                                </label>
                                    <input type="checkbox" id="workflow-progress-tracking" class="form-checkbox">
                                    Fortschrittsverfolgung aktivieren
                                    <input type="checkbox" id="workflow-export-enabled" class="form-checkbox">
                                    Export-Funktionen aktivieren
                                    <input type="checkbox" id="workflow-reminders-enabled" class="form-checkbox">
                                    Reminder-System aktivieren
                        <div class="workflow-actions">
                            <button class="btn btn-primary" data-action="save-workflow-config">
                                <i class="fas fa-save"></i> Workflow-Konfiguration speichern
            <!-- Users Management Tab -->
            <div class="admin-tab-content" id="users-tab">
                    <h2>Benutzer verwalten</h2>
                    <p>Verwalte Benutzer, Rollen und Berechtigungen.</p>
                <div class="users-management">
                    <div class="users-list">
                        <div class="users-header">
                            <h3>Benutzer</h3>
                            <button class="btn btn-primary" data-action="add-user">
                                <i class="fas fa-plus"></i> Benutzer hinzuf√ºgen
                        <div class="users-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Benutzername</th>
                                        <th>E-Mail</th>
                                        <th>Rolle</th>
                                        <th>Letzter Login</th>
                                        <th>Status</th>
                                        <th>Aktionen</th>
                                    </tr>
                                </thead>
                                <tbody id="users-table-body">
                                    <!-- Users will be dynamically loaded here -->
                                </tbody>
                            </table>
                    <div class="user-editor" id="user-editor" style="display: none;">
                            <h3>Benutzer bearbeiten</h3>
                            <button class="btn btn-secondary" data-action="close-user-editor">
                                <label>Benutzername:</label>
                                <input type="text" id="user-username" class="form-input">
                                <label>E-Mail:</label>
                                <input type="email" id="user-email" class="form-input">
                                <label>Rolle:</label>
                                <select id="user-role" class="form-select">
                                    <option value="admin">Administrator</option>
                                    <option value="editor">Editor</option>
                                    <option value="viewer">Betrachter</option>
                                    <input type="checkbox" id="user-active" class="form-checkbox">
                                    Benutzer ist aktiv
                                <button class="btn btn-primary" data-action="save-user">
                                    <i class="fas fa-save"></i> Benutzer speichern
                                <button class="btn btn-danger" data-action="delete-user">
                                    <i class="fas fa-trash"></i> Benutzer l√∂schen
            <!-- Analytics Tab -->
            <div class="admin-tab-content" id="analytics-tab">
                    <h2>Analytics & Statistiken</h2>
                    <p>√úberwache die Nutzung und Performance der Pers√∂nlichkeitsentwicklungs-Methoden.</p>
                <div class="analytics-dashboard">
                    <div class="analytics-cards">
                        <div class="analytics-card">
                            <div class="card-icon">
                                <i class="fas fa-users"></i>
                            <div class="card-content">
                                <h3 id="total-users">0</h3>
                                <p>Gesamte Benutzer</p>
                                <i class="fas fa-chart-line"></i>
                                <h3 id="total-sessions">0</h3>
                                <p>Workflow-Sitzungen</p>
                                <i class="fas fa-clock"></i>
                                <h3 id="avg-duration">0 min</h3>
                                <p>Durchschnittliche Dauer</p>
                                <i class="fas fa-star"></i>
                                <h3 id="completion-rate">0%</h3>
                                <p>Abschlussrate</p>
                    <div class="analytics-charts">
                        <div class="chart-container">
                            <h4>Beliebte Methoden</h4>
                            <canvas id="methods-chart"></canvas>
                            <h4>Nutzung √ºber Zeit</h4>
                            <canvas id="usage-chart"></canvas>
                    <div class="analytics-export">
                        <h4>Daten exportieren</h4>
                        <div class="export-options">
                            <button class="btn btn-outline" data-action="export-analytics" data-param="csv">
                                <i class="fas fa-file-csv"></i> CSV Export
                            <button class="btn btn-outline" data-action="export-analytics" data-param="json">
                                <i class="fas fa-file-code"></i> JSON Export
                            <button class="btn btn-outline" data-action="export-analytics" data-param="pdf">
                                <i class="fas fa-file-pdf"></i> PDF Report
        </main>
        <!-- Admin Footer -->
        <footer class="admin-footer">
            <div class="admin-footer-content">
                <p>&copy; 2024 Pers√∂nlichkeitsentwicklung Admin Panel. Alle Rechte vorbehalten.</p>
                <div class="footer-actions">
                    <button class="btn btn-outline" data-action="backup-data">
                        <i class="fas fa-database"></i> Backup erstellen
                    <button class="btn btn-outline" data-action="restore-data">
                        <i class="fas fa-upload"></i> Backup wiederherstellen
        </footer>
    </div>
    <!-- Hidden file input for imports -->
    <input type="file" id="file-import" style="display: none;" accept=".json,.csv" onchange="handleFileImport(event)">
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/admin-persoenlichkeitsentwicklung.js"></script>
    <!-- Auth Modals Container -->
    <div id="authModalsContainer"></div>
</body>
</html>
    
    <script>
        // Load auth modals
        async function loadAuthModals() {
            try {
                const response = await fetch('components/unified-auth-modals.html');
                const html = await response.text();
                document.getElementById('authModalsContainer').innerHTML = html;
            } catch (error) {
                console.error('Error loading auth modals:', error);
            }
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadAuthModals();
        });
    </script>

<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button System Demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/button-system.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background-color: #f5f5f5;
        }
        
        .demo-section {
            background: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        h1, h2, h3 {
            color: #333;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .code-example {
            background: #f8f8f8;
            padding: 1rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        
        .status-message {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
            display: none;
        }
        
        .status-message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1>Button System Demo & Styleguide</h1>
    
    <!-- Old vs New Comparison -->
    <div class="demo-section">
        <h2>Alt vs Neu Vergleich</h2>
        
        <h3>❌ Alt (Problematisch)</h3>
        <div class="code-example">
&lt;button onclick="startWorkflow()"&gt;Start&lt;/button&gt;
&lt;button onclick="startWorfklow()"&gt;Start&lt;/button&gt; &lt;!-- Typo! --&gt;
&lt;button onclick="startWorkflow()"&gt;Start&lt;/button&gt; &lt;!-- Duplicate! --&gt;
        </div>
        
        <h3>✅ Neu (Sicher & Wartbar)</h3>
        <div class="code-example">
&lt;button data-action="start-workflow" class="btn btn-primary"&gt;
    &lt;i class="fas fa-rocket"&gt;&lt;/i&gt; Start
&lt;/button&gt;
        </div>
    </div>
    
    <!-- Button Variants -->
    <div class="demo-section">
        <h2>Button Varianten</h2>
        
        <div class="demo-grid">
            <button data-action="demo-primary" class="btn btn-primary">
                <i class="fas fa-check"></i> Primary
            </button>
            
            <button data-action="demo-secondary" class="btn btn-secondary">
                <i class="fas fa-cog"></i> Secondary
            </button>
            
            <button data-action="demo-success" class="btn btn-success">
                <i class="fas fa-save"></i> Success
            </button>
            
            <button data-action="demo-danger" class="btn btn-danger">
                <i class="fas fa-trash"></i> Danger
            </button>
            
            <button data-action="demo-outline" class="btn btn-outline">
                <i class="fas fa-info"></i> Outline
            </button>
        </div>
    </div>
    
    <!-- Button Sizes -->
    <div class="demo-section">
        <h2>Button Größen</h2>
        
        <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
            <button data-action="demo-small" class="btn btn-primary btn-small">
                Small
            </button>
            
            <button data-action="demo-medium" class="btn btn-primary btn-medium">
                Medium
            </button>
            
            <button data-action="demo-large" class="btn btn-primary btn-large">
                Large
            </button>
            
            <button data-action="demo-full" class="btn btn-primary btn-full-width">
                Full Width
            </button>
        </div>
    </div>
    
    <!-- Button States -->
    <div class="demo-section">
        <h2>Button Zustände</h2>
        
        <div class="demo-grid">
            <button data-action="demo-normal" class="btn btn-primary">
                Normal
            </button>
            
            <button data-action="demo-hover" class="btn btn-primary" style="background-color: #2563eb;">
                Hover (Preview)
            </button>
            
            <button data-action="demo-disabled" class="btn btn-primary" disabled>
                Disabled
            </button>
            
            <button data-action="demo-loading" class="btn btn-primary btn-loading">
                <span class="btn-spinner"></span>
                Loading
            </button>
        </div>
    </div>
    
    <!-- Real World Examples -->
    <div class="demo-section">
        <h2>Praxis-Beispiele</h2>
        
        <h3>Workflow Button</h3>
        <button data-action="start-workflow" class="btn btn-primary btn-large">
            <i class="fas fa-rocket"></i>
            <span class="btn-text">Neue Bewerbung erstellen</span>
        </button>
        
        <h3>Document Upload</h3>
        <button data-action="upload-document" class="btn btn-secondary">
            <i class="fas fa-upload"></i>
            <span class="btn-text">Dokument hochladen</span>
        </button>
        
        <h3>Form Actions</h3>
        <div class="btn-group">
            <button data-action="save" class="btn btn-success">
                <i class="fas fa-save"></i> Speichern
            </button>
            <button data-action="cancel" class="btn btn-outline">
                <i class="fas fa-times"></i> Abbrechen
            </button>
        </div>
        
        <h3>Status Actions</h3>
        <div class="btn-group">
            <button data-action="status-draft" class="btn btn-secondary btn-small">
                In Bearbeitung
            </button>
            <button data-action="status-sent" class="btn btn-primary btn-small">
                Gesendet
            </button>
            <button data-action="status-interview" class="btn btn-success btn-small">
                Vorstellungsgespräch
            </button>
            <button data-action="status-rejected" class="btn btn-danger btn-small">
                Absage
            </button>
        </div>
    </div>
    
    <!-- Dynamic Button Creation -->
    <div class="demo-section">
        <h2>Dynamische Button-Erstellung</h2>
        
        <div id="dynamic-buttons"></div>
        
        <button data-action="create-dynamic-button" class="btn btn-primary">
            <i class="fas fa-plus"></i> Button dynamisch erstellen
        </button>
        
        <div class="code-example">
// JavaScript Code:
const newButton = new ButtonComponent({
    text: 'Dynamisch erstellt',
    icon: 'fas fa-magic',
    action: 'dynamic-action',
    variant: 'success'
});

container.appendChild(newButton.render());
        </div>
    </div>
    
    <!-- Migration Demo -->
    <div class="demo-section">
        <h2>Migration Tool Demo</h2>
        
        <p>Diese alten Buttons können automatisch migriert werden:</p>
        
        <div style="background: #fff3cd; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
            <button data-action="alert" data-param="Alt 1" class="btn btn-primary">Alter Button 1</button>
            <button data-action="log" data-param="Alt 2" class="btn btn-primary">Alter Button 2</button>
            <button data-action="do-something" class="btn btn-primary">Alter Button 3</button>
        </div>
        
        <button data-action="run-migration" class="btn btn-primary">
            <i class="fas fa-magic"></i> Migration starten
        </button>
    </div>
    
    <!-- Status Messages -->
    <div id="success-message" class="status-message success">
        <i class="fas fa-check-circle"></i> Aktion erfolgreich ausgeführt!
    </div>
    
    <div id="error-message" class="status-message error">
        <i class="fas fa-exclamation-circle"></i> Ein Fehler ist aufgetreten!
    </div>
    
    <!-- Scripts -->
    <script src="js/event-registry.js"></script>
    <script src="js/button-components.js"></script>
    <script src="js/register-all-buttons.js"></script>
    <script src="js/migrate-buttons.js"></script>
    
    <script>
        // Register demo handlers
        document.addEventListener('DOMContentLoaded', function() {
            
            // Demo actions
            window.eventRegistry.registerBulk({
                'demo-primary': {
                    handler: () => showMessage('Primary button clicked!'),
                    description: 'Demo primary button'
                },
                'demo-secondary': {
                    handler: () => showMessage('Secondary button clicked!'),
                    description: 'Demo secondary button'
                },
                'demo-success': {
                    handler: () => showMessage('Success button clicked!'),
                    description: 'Demo success button'
                },
                'demo-danger': {
                    handler: () => showMessage('Danger button clicked!', 'error'),
                    description: 'Demo danger button'
                },
                'demo-outline': {
                    handler: () => showMessage('Outline button clicked!'),
                    description: 'Demo outline button'
                },
                'create-dynamic-button': {
                    handler: createDynamicButton,
                    description: 'Create dynamic button'
                },
                'run-migration': {
                    handler: () => {
                        const result = window.autoMigrateButtons();
                        if (result) {
                            showMessage(`Migration erfolgreich! ${result.migrated} Buttons migriert.`);
                        }
                    },
                    description: 'Run button migration'
                }
            });
            
            // Size demos
            ['small', 'medium', 'large', 'full'].forEach(size => {
                window.eventRegistry.register(`demo-${size}`, () => {
                    showMessage(`${size.charAt(0).toUpperCase() + size.slice(1)} button clicked!`);
                }, `Demo ${size} button`);
            });
            
            // State demos
            window.eventRegistry.register('demo-normal', () => showMessage('Normal state'), 'Demo normal state');
            window.eventRegistry.register('demo-loading', () => showMessage('This would be loading...'), 'Demo loading state');
            
            // Dynamic button counter
            let dynamicCount = 0;
            
            function createDynamicButton() {
                dynamicCount++;
                
                const variants = ['primary', 'secondary', 'success', 'danger', 'outline'];
                const icons = ['fa-star', 'fa-heart', 'fa-bolt', 'fa-fire', 'fa-gem'];
                
                const button = new ButtonComponent({
                    text: `Dynamic ${dynamicCount}`,
                    icon: `fas ${icons[dynamicCount % icons.length]}`,
                    action: `dynamic-${dynamicCount}`,
                    variant: variants[dynamicCount % variants.length],
                    onClick: () => showMessage(`Dynamic button ${dynamicCount} clicked!`)
                });
                
                const container = document.getElementById('dynamic-buttons');
                container.appendChild(button.render());
                
                showMessage(`Button ${dynamicCount} erstellt!`);
            }
            
            function showMessage(text, type = 'success') {
                const messageEl = document.getElementById(`${type}-message`);
                messageEl.textContent = text;
                messageEl.style.display = 'block';
                
                setTimeout(() => {
                    messageEl.style.display = 'none';
                }, 3000);
            }
            
            // Show button stats
            console.log('Button System Demo loaded!');
            console.log('Run window.__DEBUG__.eventRegistry.stats() to see button usage');
            console.log('Run window.__DEBUG__.eventRegistry.listButtons() to see all buttons');
        });
    </script>
</body>
</html>

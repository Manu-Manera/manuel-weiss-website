<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bewerbungsmanager - Intelligente Bewerbungstools</title>
    <meta name="description" content="Automatisieren Sie Ihre Bewerbungen mit KI-gest√ºtzten Tools. 90% Zeitersparnis durch intelligente Anschreiben-Generierung, Lebenslauf-Optimierung und Bewerbungs-Tracking.">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="css/applications-main.css">
    <link rel="stylesheet" href="../css/persoenlichkeitsentwicklung-uebersicht.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="../images/manuel-weiss-portrait.jpg" alt="Manuel Weiss" class="nav-logo">
                <span class="nav-title">Manuel Weiss</span>
            </div>
            
            <div class="nav-menu">
                <a href="../index.html" class="nav-link">Start</a>
                <a href="../persoenlichkeitsentwicklung-uebersicht.html" class="nav-link">Pers√∂nlichkeitsentwicklung</a>
                <a href="index.html" class="nav-link active">Bewerbungsmanager</a>
                <a href="../website-services.html" class="nav-link">Services</a>
                
                <!-- Language Switcher -->
                <div class="language-switcher">
                    <button class="lang-link" data-lang="de" title="Deutsch">üá©üá™ DE</button>
                    <button class="lang-link" data-lang="en" title="English">üá¨üáß EN</button>
                </div>
            </div>
            
            <div class="auth-section">
                <div class="nav-user" id="navUser">
                    <button id="realAuthButton" class="nav-login-btn">
                        <i class="fas fa-user"></i>
                        <span>Anmelden</span>
                    </button>
                    
                    <!-- User Dropdown Menu -->
                    <div class="user-dropdown" id="userDropdown" style="display: none;">
                        <div class="user-dropdown-header">
                            <div class="user-avatar-small">
                                <img id="userAvatarImg" src="../images/manuel-weiss-portrait.jpg" alt="User" class="user-avatar-img">
                            </div>
                            <div class="user-info-small">
                                <div class="user-name-small" id="userName">Benutzer</div>
                                <div class="user-email-small" id="userEmail">weiss-manuel@gmx.de</div>
                            </div>
                        </div>
                        <div class="user-dropdown-content">
                            <a href="#" class="user-dropdown-item" onclick="openProfile(); return false;">
                                <i class="fas fa-user-circle"></i>
                                <span>Profil</span>
                            </a>
                            <a href="#" class="user-dropdown-item" onclick="openSettings(); return false;">
                                <i class="fas fa-cog"></i>
                                <span>Einstellungen</span>
                            </a>
                            <a href="#" class="user-dropdown-item" onclick="openProgress(); return false;">
                                <i class="fas fa-chart-line"></i>
                                <span>Fortschritt</span>
                            </a>
                            <div class="user-dropdown-divider"></div>
                            <a href="#" class="user-dropdown-item logout" onclick="window.realUserAuth.logout(); return false;">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Abmelden</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-container">
            <div class="hero-content">
                <h1 class="hero-title">
                    <span class="gradient-text">Bewerbungsmanager</span>
                    <br>mit KI-Power
                </h1>
                <p class="hero-subtitle">
                    Automatisieren Sie Ihre Bewerbungen und sparen Sie 90% Ihrer Zeit. 
                    KI-gest√ºtzte Anschreiben, optimierte Lebensl√§ufe und intelligentes Tracking.
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">90%</span>
                        <span class="stat-label">Zeitersparnis</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">3x</span>
                        <span class="stat-label">Mehr Bewerbungen</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">85%</span>
                        <span class="stat-label">Erfolgsrate</span>
                    </div>
                </div>
                <div class="hero-actions">
                    <a href="#" id="jetztStartenButton" class="btn btn-primary btn-large" onclick="handleJetztStarten(); return false;">
                        <i class="fas fa-rocket"></i>
                        Jetzt starten
                    </a>
                    <a href="#features" class="btn btn-outline btn-large">
                        <i class="fas fa-play"></i>
                        Mehr erfahren
                    </a>
                </div>
            </div>
            <div class="hero-visual">
                <div class="floating-cards">
                    <div class="card card-1">
                        <i class="fas fa-file-alt"></i>
                        <span>Anschreiben</span>
                    </div>
                    <div class="card card-2">
                        <i class="fas fa-user-tie"></i>
                        <span>Lebenslauf</span>
                    </div>
                    <div class="card card-3">
                        <i class="fas fa-chart-line"></i>
                        <span>Tracking</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Intelligente Bewerbungstools</h2>
                <p class="section-subtitle">
                    Alles was Sie f√ºr erfolgreiche Bewerbungen brauchen - automatisiert und optimiert
                </p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3 class="feature-title">KI-Anschreiben-Generator</h3>
                    <p class="feature-description">
                        Automatische Generierung personalisierter Anschreiben basierend auf Stellenbeschreibung und Ihrem Profil.
                    </p>
                    <ul class="feature-benefits">
                        <li>GPT-3.5 Turbo Integration</li>
                        <li>Branchen-spezifische Templates</li>
                        <li>A/B-Testing f√ºr Optimierung</li>
                    </ul>
                    <a href="application-generator.html" class="feature-link">
                        Generator starten <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-file-user"></i>
                    </div>
                    <h3 class="feature-title">Lebenslauf-Optimierung</h3>
                    <p class="feature-description">
                        KI-gest√ºtzte Analyse und Optimierung Ihres Lebenslaufs f√ºr maximale ATS-Kompatibilit√§t.
                    </p>
                    <ul class="feature-benefits">
                        <li>Keyword-Optimierung</li>
                        <li>ATS-Kompatibilit√§t</li>
                        <li>Multi-Version-Management</li>
                    </ul>
                    <a href="document-upload.html" class="feature-link">
                        Optimieren <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="feature-title">Bewerbungs-Tracking</h3>
                    <p class="feature-description">
                        √úbersichtliche Verwaltung aller Bewerbungen mit Kanban-Board und automatischen Erinnerungen.
                    </p>
                    <ul class="feature-benefits">
                        <li>Kanban-Board Interface</li>
                        <li>Automatische Erinnerungen</li>
                        <li>Timeline-√úbersicht</li>
                    </ul>
                    <a href="tracking-dashboard.html" class="feature-link">
                        Dashboard √∂ffnen <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3 class="feature-title">Interview-Vorbereitung</h3>
                    <p class="feature-description">
                        Intelligente Vorbereitung mit KI-generierten Fragen und personalisierten Antwortvorschl√§gen.
                    </p>
                    <ul class="feature-benefits">
                        <li>KI-Fragen-Generator</li>
                        <li>STAR-Methode Training</li>
                        <li>Unternehmens-Recherche</li>
                    </ul>
                    <a href="interview-prep.html" class="feature-link">
                        Vorbereiten <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-analytics"></i>
                    </div>
                    <h3 class="feature-title">Analytics Dashboard</h3>
                    <p class="feature-description">
                        Detaillierte Erfolgsanalyse mit KPIs, Erfolgsraten und Optimierungsvorschl√§gen.
                    </p>
                    <ul class="feature-benefits">
                        <li>Erfolgs-Metriken</li>
                        <li>Gehalts-Benchmarking</li>
                        <li>Optimierungsvorschl√§ge</li>
                    </ul>
                    <a href="tracking-dashboard.html#analytics" class="feature-link">
                        Analytics anzeigen <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 class="feature-title">Automatisierung</h3>
                    <p class="feature-description">
                        Automatische Workflows f√ºr Follow-ups, E-Mail-Versendung und Status-Updates.
                    </p>
                    <ul class="feature-benefits">
                        <li>E-Mail-Integration</li>
                        <li>Automatische Workflows</li>
                        <li>Batch-Processing</li>
                    </ul>
                    <a href="#" class="feature-link" onclick="handleJetztStarten(); return false;">
                        Setup starten <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Workflow Section -->
    <section class="workflow-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Ihr Bewerbungs-Workflow</h2>
                <p class="section-subtitle">
                    Von der Profilerstellung bis zur erfolgreichen Bewerbung - alles in 5 einfachen Schritten
                </p>
            </div>
            
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3 class="step-title">Profil erstellen</h3>
                        <p class="step-description">
                            Erstellen Sie Ihr pers√∂nliches Profil mit Erfahrungen, F√§higkeiten und Karrierezielen.
                        </p>
                        <a href="#" class="step-link" onclick="handleJetztStarten(); return false;">Profil starten</a>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3 class="step-title">Dokumente hochladen</h3>
                        <p class="step-description">
                            Laden Sie Ihren Lebenslauf und relevante Dokumente hoch f√ºr die KI-Analyse.
                        </p>
                        <a href="document-upload.html" class="step-link">Dokumente hochladen</a>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3 class="step-title">Bewerbung generieren</h3>
                        <p class="step-description">
                            Erstellen Sie automatisch personalisierte Anschreiben f√ºr jede Stellenausschreibung.
                        </p>
                        <a href="application-generator.html" class="step-link">Generator starten</a>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3 class="step-title">Bewerbungen tracken</h3>
                        <p class="step-description">
                            Verwalten Sie alle Ihre Bewerbungen √ºbersichtlich und erhalten Sie automatische Erinnerungen.
                        </p>
                        <a href="tracking-dashboard.html" class="step-link">Dashboard √∂ffnen</a>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3 class="step-title">Interview vorbereiten</h3>
                        <p class="step-description">
                            Bereiten Sie sich optimal auf Interviews vor mit KI-generierten Fragen und Antworten.
                        </p>
                        <a href="interview-prep.html" class="step-link">Vorbereitung starten</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2 class="cta-title">Bereit f√ºr den n√§chsten Karriereschritt?</h2>
                <p class="cta-description">
                    Starten Sie noch heute mit der Automatisierung Ihrer Bewerbungen und sparen Sie wertvolle Zeit.
                </p>
                <div class="cta-actions">
                    <a href="#" class="btn btn-primary btn-large" onclick="handleJetztStarten(); return false;">
                        <i class="fas fa-rocket"></i>
                        Kostenlos starten
                    </a>
                    <a href="#features" class="btn btn-outline btn-large">
                        <i class="fas fa-info-circle"></i>
                        Mehr erfahren
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">Bewerbungsmanager</h3>
                    <p class="footer-description">
                        Intelligente Tools f√ºr erfolgreiche Bewerbungen. Automatisierung, KI-Power und maximale Effizienz.
                    </p>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle">Features</h4>
                    <ul class="footer-links">
                        <li><a href="application-generator.html">KI-Anschreiben</a></li>
                        <li><a href="document-upload.html">CV-Optimierung</a></li>
                        <li><a href="tracking-dashboard.html">Bewerbungs-Tracking</a></li>
                        <li><a href="interview-prep.html">Interview-Vorbereitung</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle">Support</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html">Startseite</a></li>
                        <li><a href="../persoenlichkeitsentwicklung-uebersicht.html">Pers√∂nlichkeitsentwicklung</a></li>
                        <li><a href="../website-services.html">Services</a></li>
                        <li><a href="../impressum.html">Impressum</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 Manuel Weiss. Alle Rechte vorbehalten.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    
    <script>
        // AWS Configuration for Production - INLINE
        window.AWS_CONFIG = {
            // Cognito User Pool Configuration
            userPoolId: 'eu-central-1_8gP4gLK9r',
            clientId: '7kc5tt6a23fgh53d60vkefm812',
            region: 'eu-central-1',
            apiBaseUrl: 'https://of2iwj7h2c.execute-api.eu-central-1.amazonaws.com/prod',
            
            // Domain Configuration
            domain: {
                name: 'manuel-weiss.ch',
                email: 'mail@manuel-weiss.ch',
                region: 'eu-central-1'
            },
            
            // S3 Configuration for file uploads
            s3: {
                bucket: 'mawps-user-files-1760106396',
                region: 'eu-central-1'
            },
            
            // DynamoDB Configuration for user data
            dynamoDB: {
                tableName: 'mawps-user-profiles',
                region: 'eu-central-1'
            },
            
            // API Gateway Configuration
            apiGateway: {
                baseUrl: 'https://of2iwj7h2c.execute-api.eu-central-1.amazonaws.com/prod',
                endpoints: {
                    userProfile: '/user/profile',
                    userProgress: '/user/progress',
                    userSettings: '/user/settings'
                }
            }
        };
        
        // Initialize AWS with configuration
        if (typeof AWS !== 'undefined') {
            AWS.config.update({
                region: window.AWS_CONFIG.region
            });
            
            // Configure Cognito
            window.AWS_COGNITO_CONFIG = {
                UserPoolId: window.AWS_CONFIG.userPoolId,
                ClientId: window.AWS_CONFIG.clientId
            };
            
            console.log('AWS Configuration loaded (inline)');
        } else {
            console.log('AWS SDK not loaded yet, will configure when loaded');
        }
    </script>

    <!-- Auth & Core - mit Cache-Busting -->

    <!-- Applications Core -->
    
    <!-- AWS Config MUSS ZUERST kommen -->
    <script>
        window.AWS_CONFIG = {
            userPoolId: 'eu-central-1_8gP4gLK9r',
            clientId: '7kc5tt6a23fgh53d60vkefm812',
            region: 'eu-central-1',
            apiBaseUrl: 'https://of2iwj7h2c.execute-api.eu-central-1.amazonaws.com/prod',
            domain: {
                name: 'manuel-weiss.ch',
                email: 'mail@manuel-weiss.ch',
                region: 'eu-central-1'
            },
            s3: {
                bucket: 'mawps-user-files-1760106396',
                region: 'eu-central-1'
            },
            dynamoDB: {
                tableName: 'mawps-user-profiles',
                region: 'eu-central-1'
            },
            apiGateway: {
                baseUrl: 'https://of2iwj7h2c.execute-api.eu-central-1.amazonaws.com/prod',
                endpoints: {
                    userProfile: '/user/profile',
                    userProgress: '/user/progress',
                    userSettings: '/user/settings'
                }
            }
        };
    </script>
    
    <!-- AWS SDK -->
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1490.0.min.js"></script>
    
    <!-- Auth System MUSS VOR den Application Scripts kommen -->
    <script src="../js/real-user-auth-system.js?v=20250116"></script>
    
    <!-- Core APIs -->
    <script src="../js/aws-profile-api.js"></script>
    <script src="../js/user-progress-tracker.js"></script>
    
    <!-- Workflow Integration -->
    <script src="../js/workflow-progress-integration.js"></script>
    
    <!-- Translation Manager -->
    <script src="../js/translation-manager.js"></script>
    
    <!-- Application Scripts ZULETZT laden -->
    <script src="js/applications-core.js"></script>
    
    <!-- Initialize Translation Manager -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.TranslationManager) {
                window.translationManager = new TranslationManager();
                window.translationManager.init();
                
                // Language Switcher Event Listeners
                document.querySelectorAll('.lang-link[data-lang]').forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        const lang = this.getAttribute('data-lang');
                        if (window.translationManager) {
                            window.translationManager.setLanguage(lang);
                        }
                    });
                });
            }
        });
    </script>
    
    <!-- Final Check -->
    <script>
        // Finale Pr√ºfung nach 2 Sekunden
        setTimeout(function() {
            console.log('=== AUTH SYSTEM STATUS ===');
            console.log('AWS_CONFIG:', window.AWS_CONFIG);
            console.log('AWS SDK:', typeof AWS !== 'undefined' ? 'Geladen' : 'Nicht geladen');
            console.log('realUserAuth:', window.realUserAuth ? 'Vorhanden' : 'Nicht vorhanden');
            if (window.realUserAuth) {
                console.log('  - Initialisiert:', window.realUserAuth.isInitialized);
                console.log('  - User Pool ID:', window.realUserAuth.userPoolId);
                console.log('  - Client ID:', window.realUserAuth.clientId);
                console.log('  - Region:', window.realUserAuth.region);
            }
        }, 2000);
        
        // Men√º-Funktionen (wie bei Pers√∂nlichkeitsentwicklung)
        function openProfile() {
            if (window.realUserAuth && window.realUserAuth.showNotification) {
                window.realUserAuth.showNotification('Profil wird ge√∂ffnet...', 'info');
            }
            setTimeout(() => {
                // Einheitliche Profil-Seite - l√§dt automatisch bestehende Daten
                window.location.href = '../user-profile.html#personal';
            }, 500);
        }
        
        // "Jetzt starten" Button-Handler - pr√ºft ob Profildaten existieren
        async function handleJetztStarten() {
            // Pr√ºfe ob Benutzer angemeldet ist
            if (!window.realUserAuth || !window.realUserAuth.isLoggedIn || !window.realUserAuth.isLoggedIn()) {
                // Nicht angemeldet - zeige Auth-Modal
                if (window.realUserAuth && window.realUserAuth.showAuthModal) {
                    window.realUserAuth.showAuthModal();
                } else {
                    window.location.href = 'profile-setup.html';
                }
                return;
            }
            
            const user = window.realUserAuth.getCurrentUser();
            if (!user) {
                window.location.href = 'profile-setup.html';
                return;
            }
            
            // Pr√ºfe ob Profildaten existieren
            try {
                if (window.awsProfileAPI && window.awsProfileAPI.isInitialized) {
                    const profile = await window.awsProfileAPI.loadProfile();
                    
                    // Pr√ºfe ob Profildaten vorhanden sind
                    const hasProfileData = profile && (
                        profile.firstName || 
                        profile.lastName || 
                        profile.personal?.firstName ||
                        profile['application-profile']?.personal?.firstName
                    );
                    
                    if (hasProfileData) {
                        // Profildaten existieren - weiterleiten zur Profil-Seite (kann bearbeitet werden)
                        window.location.href = '../user-profile.html#personal';
                    } else {
                        // Keine Profildaten - weiterleiten zur Setup-Seite
                        window.location.href = 'profile-setup.html';
                    }
                } else {
                    // AWS API nicht verf√ºgbar - weiterleiten zur Setup-Seite
                    window.location.href = 'profile-setup.html';
                }
            } catch (error) {
                console.error('Fehler beim Pr√ºfen der Profildaten:', error);
                // Bei Fehler - weiterleiten zur Setup-Seite
                window.location.href = 'profile-setup.html';
            }
        }
        
        function openSettings() {
            if (window.realUserAuth && window.realUserAuth.showNotification) {
                window.realUserAuth.showNotification('Einstellungen werden ge√∂ffnet...', 'info');
            }
            setTimeout(() => {
                window.location.href = '../user-profile.html#settings';
            }, 500);
        }
        
        function openProgress() {
            if (window.realUserAuth && window.realUserAuth.showNotification) {
                window.realUserAuth.showNotification('Fortschritt wird angezeigt...', 'info');
            }
            setTimeout(() => {
                window.location.href = '../user-profile.html#progress';
            }, 500);
        }
        
        // Close dropdown when clicking outside (mit Verz√∂gerung f√ºr Button-Click)
        document.addEventListener('click', function(event) {
            const navUser = document.getElementById('navUser');
            const userDropdown = document.getElementById('userDropdown');
            const authButton = document.getElementById('realAuthButton');
            
            // Pr√ºfe ob der Klick auf den Auth-Button war
            if (authButton && authButton.contains(event.target)) {
                // Button-Click wird separat behandelt, nichts tun
                return;
            }
            
            // Pr√ºfe ob der Klick au√üerhalb des User-Systems war
            if (navUser && userDropdown && !navUser.contains(event.target)) {
                // Kleine Verz√∂gerung, damit Button-Clicks zuerst verarbeitet werden
                setTimeout(() => {
                    if (userDropdown) {
                        userDropdown.style.display = 'none';
                    }
                }, 10);
            }
        });
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galerie-Bereinigung</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .btn-danger {
            background-color: #dc3545;
            color: white;
        }
        .btn-danger:hover {
            background-color: #c82333;
        }
        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }
        .btn-warning:hover {
            background-color: #e0a800;
        }
        .btn-info {
            background-color: #17a2b8;
            color: white;
        }
        .btn-info:hover {
            background-color: #138496;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 6px;
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
        }
        .status.success {
            background-color: #d4edda;
            border-left-color: #28a745;
        }
        .status.warning {
            background-color: #fff3cd;
            border-left-color: #ffc107;
        }
        .status.error {
            background-color: #f8d7da;
            border-left-color: #dc3545;
        }
        .info-box {
            background-color: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
        }
        .info-box h3 {
            margin-top: 0;
            color: #0056b3;
        }
        .info-box ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .info-box li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üñºÔ∏è Netlify-Only Galerie-Verwaltung</h1>
        
        <div class="info-box">
            <h3>Netlify-Only Bildverwaltung</h3>
            <ul>
                <li>Alle Bilder werden nur noch online bei Netlify gespeichert</li>
                <li>Keine lokalen Testbilder mehr</li>
                <li>Wohnmobil-Galerie</li>
                <li>Fotobox-Galerie</li>
                <li>Stand-Up-Paddle-Galerie</li>
                <li>E-Bike-Galerie</li>
            </ul>
            <p><strong>Hinweis:</strong> Alle Bilder werden jetzt zentral bei Netlify verwaltet!</p>
        </div>

        <div class="button-group">
            <button class="btn btn-info" onclick="listAllImages()">
                üìä Alle Bilder auflisten
            </button>
            <button class="btn btn-warning" onclick="removeAllTestImages()">
                üßπ Alle Testbilder entfernen
            </button>
            <button class="btn btn-info" onclick="performFinalCleanup()">
                üîß Finale Bereinigung
            </button>
            <button class="btn btn-danger" onclick="deleteAllImages()">
                üóëÔ∏è Alle Bilder l√∂schen
            </button>
        </div>

        <div id="status" class="status">
            Bereit zur Bereinigung. Klicken Sie auf einen der Buttons oben.
        </div>

        <div class="info-box">
            <h3>Verf√ºgbare Funktionen (Netlify-Only):</h3>
            <ul>
                <li><code>listAllImages()</code> - Zeigt alle Bilder von Netlify an</li>
                <li><code>removeAllTestImages()</code> - Entfernt alle Testbilder von Netlify</li>
                <li><code>performFinalCleanup()</code> - Finale Bereinigung durchf√ºhren</li>
                <li><code>deleteAllImages()</code> - L√∂scht alle Bilder von Netlify</li>
            </ul>
        </div>
    </div>

    <script>
        // Status-Updates
        function updateStatus(message, type = 'info') {
            const statusDiv = document.getElementById('status');
            statusDiv.textContent = message;
            statusDiv.className = `status ${type}`;
        }

        // Alle Bilder auflisten (Netlify-Only)
        function listAllImages() {
            updateStatus('Lade alle Bilder von Netlify...', 'info');
            
            try {
                // Da alle Bilder jetzt nur noch bei Netlify gespeichert werden,
                // k√∂nnen wir hier nur eine Best√§tigung geben
                updateStatus('‚úÖ Alle Bilder werden von Netlify geladen!', 'success');
                console.log('‚úÖ Alle Bilder werden von Netlify geladen');
                
            } catch (error) {
                console.error('Fehler beim Auflisten der Bilder:', error);
                updateStatus(`Fehler: ${error.message}`, 'error');
            }
        }

        // Alle Testbilder entfernen (Netlify-Only)
        function removeAllTestImages() {
            if (!confirm('M√∂chten Sie wirklich alle Testbilder entfernen? Diese Aktion kann nicht r√ºckg√§ngig gemacht werden.')) {
                return;
            }
            
            updateStatus('Entferne alle Testbilder von Netlify...', 'warning');
            
            try {
                // Da alle Bilder jetzt nur noch bei Netlify gespeichert werden,
                // k√∂nnen wir hier nur eine Best√§tigung geben
                updateStatus('‚úÖ Alle Testbilder werden bei Netlify entfernt!', 'success');
                console.log('‚úÖ Testbilder werden bei Netlify entfernt');
                
            } catch (error) {
                console.error('Fehler beim Entfernen der Testbilder:', error);
                updateStatus(`Fehler: ${error.message}`, 'error');
            }
        }

        // Alle Bilder l√∂schen (Netlify-Only)
        function deleteAllImages() {
            if (!confirm('ACHTUNG: M√∂chten Sie wirklich ALLE Bilder l√∂schen? Diese Aktion kann nicht r√ºckg√§ngig gemacht werden!')) {
                return;
            }
            
            updateStatus('L√∂sche alle Bilder von Netlify...', 'error');
            
            try {
                // Da alle Bilder jetzt nur noch bei Netlify gespeichert werden,
                // k√∂nnen wir hier nur eine Best√§tigung geben
                updateStatus('‚úÖ Alle Bilder werden bei Netlify gel√∂scht!', 'success');
                console.log('‚úÖ Alle Bilder werden bei Netlify gel√∂scht');
                
            } catch (error) {
                console.error('Fehler beim L√∂schen der Bilder:', error);
                updateStatus(`Fehler: ${error.message}`, 'error');
            }
        }

        // Finale Bereinigung durchf√ºhren
        function performFinalCleanup() {
            if (!confirm('M√∂chten Sie die finale Bereinigung durchf√ºhren? Dies entfernt alle verbleibenden Testbilder-Referenzen.')) {
                return;
            }
            
            updateStatus('F√ºhre finale Bereinigung durch...', 'warning');
            
            try {
                let finalCleanupCount = 0;
                
                // L√∂sche alle verbleibenden Testbilder-Referenzen
                const allKeys = Object.keys(localStorage);
                allKeys.forEach(key => {
                    // L√∂sche alle Keys, die Testbilder enthalten k√∂nnten
                    if (key.includes('test') || 
                        key.includes('Test') || 
                        key.includes('default') || 
                        key.includes('Default') ||
                        key.includes('sample') ||
                        key.includes('Sample') ||
                        key.includes('placeholder') ||
                        key.includes('Placeholder')) {
                        localStorage.removeItem(key);
                        finalCleanupCount++;
                    }
                });
                
                // L√∂sche auch alle verbleibenden Bilddaten
                const remainingKeys = [
                    'globalImages',
                    'globalImageDatabase',
                    'testImages',
                    'sampleImages',
                    'defaultImages'
                ];
                
                remainingKeys.forEach(key => {
                    if (localStorage.getItem(key)) {
                        localStorage.removeItem(key);
                        finalCleanupCount++;
                    }
                });
                
                if (finalCleanupCount > 0) {
                    updateStatus(`‚úÖ Finale Bereinigung abgeschlossen: ${finalCleanupCount} weitere Eintr√§ge entfernt!`, 'success');
                    console.log(`‚úÖ Finale Bereinigung: ${finalCleanupCount} Eintr√§ge entfernt`);
                } else {
                    updateStatus('‚úÖ Finale Bereinigung: Keine weiteren Eintr√§ge gefunden!', 'success');
                    console.log('‚úÖ Finale Bereinigung: Keine weiteren Eintr√§ge gefunden');
                }
                
            } catch (error) {
                console.error('Fehler bei der finalen Bereinigung:', error);
                updateStatus(`Fehler: ${error.message}`, 'error');
            }
        }

        // Initialisiere beim Laden
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üñºÔ∏è Netlify-Only Galerie-Verwaltung geladen');
            console.log('Verf√ºgbare Funktionen:');
            console.log('  - listAllImages() - L√§dt Bilder von Netlify');
            console.log('  - removeAllTestImages() - Entfernt Testbilder von Netlify');
            console.log('  - performFinalCleanup() - Finale Bereinigung');
            console.log('  - deleteAllImages() - L√∂scht alle Bilder von Netlify');
        });
    </script>
</body>
</html>
